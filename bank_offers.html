<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comparateur d'Offres Bancaires</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    * {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    body {
      background: linear-gradient(180deg, #0f172a 0%, #020617 100%);
      color: #e2e8f0;
      min-height: 100vh;
      padding-top: 64px;
    }

    /* Navigation styles */
    nav {
      backdrop-filter: blur(8px);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    .nav-link {
      background-color: rgba(75, 85, 99, 0.5);
      min-width: fit-content;
    }

    .nav-link:hover {
      background-color: rgba(75, 85, 99, 0.7);
    }

    .nav-link.active {
      background: linear-gradient(135deg, #6366F1, #EC4899);
    }

    .nav-link.active:hover {
      background: linear-gradient(135deg, #5558E3, #DB3A88);
    }

    #mobile-menu {
      transition: all 0.3s ease;
    }

    #mobile-menu.show {
      display: block !important;
      animation: slideDown 0.3s ease-out;
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Mobile header bar with results count and filter toggle */
    .mobile-header-bar {
      display: none;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .mobile-results-count {
      font-size: 14px;
      color: #9CA3AF;
    }

    .mobile-results-count span {
      font-weight: 600;
      color: #A5B4FC;
    }

    /* Mobile filters toggle */
    .mobile-filters-toggle {
      display: none;
      padding: 8px 14px;
      background: linear-gradient(135deg, #6366F1, #8B5CF6);
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .mobile-filters-toggle svg {
      transition: transform 0.3s ease;
    }

    .mobile-filters-toggle.active svg {
      transform: rotate(180deg);
    }

    /* Mobile view switcher */
    .mobile-view-switcher {
      display: none;
      gap: 8px;
      margin-bottom: 12px;
    }

    .view-toggle-btn {
      flex: 1;
      padding: 8px 10px;
      border: none;
      border-radius: 10px;
      background: rgba(30, 41, 59, 0.5);
      border: 1px solid rgba(255,255,255,0.05);
      color: #94a3b8;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      transition: all 0.3s ease;
    }

    .view-toggle-btn svg {
      width: 20px;
      height: 20px;
    }

    .view-toggle-btn span {
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .view-toggle-btn.active {
      background: linear-gradient(135deg, #6366f1, #8B5CF6);
      border-color: transparent;
      color: white;
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
    }

    @media (max-width: 768px) {
      .mobile-header-bar {
        display: flex;
      }

      .mobile-filters-toggle {
        display: flex;
      }

      .mobile-view-switcher {
        display: flex;
      }

      .desktop-view-switcher {
        display: none !important;
      }

      .desktop-results-count {
        display: none;
      }

      .filters-content {
        display: none;
      }

      .filters-content.show {
        display: block;
      }

      /* Hide the entire filter card container when filters are not shown */
      .filters-container:not(.filters-open) {
        display: none;
      }
    }

    .glass-card {
      background: rgba(30, 41, 59, 0.5);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .offer-card {
      background: linear-gradient(180deg, rgba(30,41,59,0.9), rgba(15,23,42,0.95));
      border: 1px solid rgba(255,255,255,0.08);
      transition: all 0.3s ease;
    }

    .offer-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px -10px rgba(99, 102, 241, 0.3);
    }

    .filter-select {
      padding: 12px 14px;
      border-radius: 10px;
      background: rgba(15, 23, 42, 0.8);
      border: 1px solid rgba(255,255,255,0.1);
      color: #e2e8f0;
      font-size: 13px;
      outline: none;
      cursor: pointer;
      width: 100%;
    }

    .filter-select:focus {
      border-color: #6366f1;
    }

    .badge {
      padding: 5px 10px;
      border-radius: 8px;
      font-size: 12px;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }

    .badge-good {
      background: rgba(16, 185, 129, 0.12);
      color: #10b981;
    }

    .badge-neutral {
      background: rgba(148, 163, 184, 0.1);
      color: #94a3b8;
    }

    .badge-warning {
      background: rgba(245, 158, 11, 0.15);
      color: #f59e0b;
    }

    .type-basic { background: linear-gradient(135deg, #334155, #475569); }
    .type-premium { background: linear-gradient(135deg, #7c3aed, #a855f7); }
    .type-black { background: linear-gradient(135deg, #1e1e1e, #3f3f3f); }

    /* Table styles */
    .data-table {
      width: 100%;
      border-collapse: collapse;
      min-width: 1050px;
    }

    .data-table th {
      padding: 16px 12px;
      text-align: left;
      background: rgba(15, 23, 42, 0.8);
      border-bottom: 1px solid rgba(255,255,255,0.05);
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      color: #64748b;
      cursor: pointer;
      white-space: nowrap;
    }

    .data-table th:hover {
      color: #6366f1;
    }

    .data-table th.sorted {
      color: #6366f1;
    }

    .data-table td {
      padding: 14px 12px;
      border-bottom: 1px solid rgba(255,255,255,0.03);
    }

    .data-table tr:nth-child(even) {
      background: rgba(255,255,255,0.02);
    }

    .data-table tr:hover {
      background: rgba(99, 102, 241, 0.1);
    }

    /* Modal styles */
    .modal-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.85);
      backdrop-filter: blur(12px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
      animation: fadeIn 0.2s ease;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      background: linear-gradient(180deg, #1e293b, #0f172a);
      border-radius: 24px;
      max-width: 600px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      border: 1px solid rgba(255,255,255,0.1);
      animation: slideUp 0.3s ease;
      position: relative;
      margin: auto;
    }

    @keyframes slideUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .modal-close-btn {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.2);
      width: 36px;
      height: 36px;
      border-radius: 10px;
      color: #ef4444;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    .modal-close-btn:hover {
      background: rgba(239, 68, 68, 0.2);
      border-color: rgba(239, 68, 68, 0.4);
      transform: scale(1.05);
    }

    .modal-close-btn svg {
      width: 18px;
      height: 18px;
    }

    /* Mobile optimizations */
    @media (max-width: 768px) {
      .modal-overlay {
        padding: 0;
        align-items: flex-start;
      }

      .modal-content {
        max-width: 100%;
        max-height: 100vh;
        min-height: 100vh;
        border-radius: 0;
        margin: 0;
      }
    }

    .detail-box {
      background: rgba(255,255,255,0.03);
      border-radius: 12px;
      padding: 14px 16px;
      border: 1px solid rgba(255,255,255,0.05);
    }

    .price-free { color: #10b981; }
    .price-low { color: #22c55e; }
    .price-medium { color: #eab308; }
    .price-high { color: #f97316; }
    .price-very-high { color: #ef4444; }

    .btn-primary {
      padding: 10px 20px;
      border-radius: 10px;
      border: none;
      background: #6366f1;
      color: white;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }

    .btn-primary:hover {
      background: #4f46e5;
    }

    .btn-secondary {
      padding: 10px 16px;
      border-radius: 10px;
      border: none;
      background: rgba(255,255,255,0.05);
      color: #94a3b8;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-secondary:hover {
      background: rgba(255,255,255,0.1);
    }

    .btn-secondary.active {
      background: #6366f1;
      color: white;
    }

    .btn-danger {
      padding: 10px 20px;
      border-radius: 10px;
      border: none;
      background: rgba(239, 68, 68, 0.15);
      color: #ef4444;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
    }

    .bank-logo {
      width: 52px;
      height: 52px;
      border-radius: 14px;
      object-fit: cover;
    }

    .bank-logo-small {
      width: 36px;
      height: 36px;
      border-radius: 8px;
      object-fit: cover;
    }

    .bank-logo-fallback {
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 800;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="fixed top-0 left-0 right-0 z-50 bg-[#1a2634] border-b border-gray-800" style="backdrop-filter: blur(8px); box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <h1 class="text-xl font-bold text-transparent bg-gradient-to-r from-indigo-500 to-pink-500 bg-clip-text" style="background-clip: text; -webkit-background-clip: text;">Payment Infos</h1>

        <!-- Desktop Navigation -->
        <div class="hidden md:flex space-x-4">
          <a href="index.html" class="nav-link px-4 py-2 rounded-lg text-white text-sm font-semibold transition-colors">
            European Map
          </a>
          <a href="merchant_fees.html" class="nav-link px-4 py-2 rounded-lg text-white text-sm font-semibold transition-colors">
            Merchant Fees
          </a>
          <a href="bank_offers.html" class="nav-link px-4 py-2 rounded-lg text-white text-sm font-semibold transition-colors">
            Bank Offers
          </a>
        </div>

        <!-- Mobile Navigation Button -->
        <div class="md:hidden">
          <button id="mobile-menu-button" class="text-gray-300 hover:text-white p-2 rounded-lg transition-colors">
            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden border-t border-gray-800 absolute w-full bg-[#1a2634] shadow-lg">
      <div class="px-2 pt-2 pb-3 space-y-2">
        <a href="index.html" class="nav-link block px-4 py-2.5 rounded-lg text-white text-sm font-semibold text-center transition-colors">
          European Map
        </a>
        <a href="merchant_fees.html" class="nav-link block px-4 py-2.5 rounded-lg text-white text-sm font-semibold text-center transition-colors">
          Merchant Fees
        </a>
        <a href="bank_offers.html" class="nav-link block px-4 py-2.5 rounded-lg text-white text-sm font-semibold text-center transition-colors">
          Bank Offers
        </a>
      </div>
    </div>
  </nav>

  <div class="container mx-auto px-4 py-8">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold bg-gradient-to-r from-indigo-500 to-pink-500 bg-clip-text text-transparent mb-4" style="background-clip: text; -webkit-background-clip: text;">
        Comparateur d'Offres Bancaires
      </h1>
    </div>

    <!-- Mobile header bar -->
    <div class="mobile-header-bar">
      <div class="mobile-results-count">
        <span id="mobileResultsCount">0</span> offres trouvées
      </div>
      <button id="mobileFiltersToggle" class="mobile-filters-toggle" onclick="toggleMobileFilters()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
        </svg>
        <span id="filtersToggleText">Filtres</span>
      </button>
    </div>

    <!-- Mobile view switcher -->
    <div class="mobile-view-switcher">
      <button id="mobileViewTable" class="view-toggle-btn active" onclick="setViewMode('table')">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
          <line x1="9" y1="3" x2="9" y2="21"></line>
        </svg>
        <span>Tableau</span>
      </button>
      <button id="mobileViewCards" class="view-toggle-btn" onclick="setViewMode('cards')">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="7" height="7" rx="1"></rect>
          <rect x="14" y="3" width="7" height="7" rx="1"></rect>
          <rect x="14" y="14" width="7" height="7" rx="1"></rect>
          <rect x="3" y="14" width="7" height="7" rx="1"></rect>
        </svg>
        <span>Cartes</span>
      </button>
    </div>

    <!-- Filters -->
    <div id="filtersContainer" class="glass-card rounded-2xl p-5 mb-6 filters-container">

      <div id="filtersContent" class="filters-content">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
          <!-- Search -->
          <div class="md:col-span-2">
            <input type="text" id="searchInput" placeholder="Rechercher une banque ou offre..."
              class="filter-select w-full">
          </div>

          <!-- Bank Type -->
          <select id="filterBankType" class="filter-select">
            <option value="">Toutes les banques</option>
            <option value="traditional">Traditionnelles</option>
            <option value="online">En ligne</option>
            <option value="neo">Neobanques</option>
            <option value="crypto">Cartes Crypto</option>
          </select>

          <!-- Offer Type -->
          <select id="filterOfferType" class="filter-select">
            <option value="">Toutes les gammes</option>
            <option value="basic">Essentiel</option>
            <option value="premium">Premium</option>
            <option value="black">Haut de gamme</option>
          </select>

          <!-- Free Card -->
          <select id="filterFreeCard" class="filter-select">
            <option value="">Prix de l'offre</option>
            <option value="yes">Gratuites uniquement</option>
            <option value="no">Payantes uniquement</option>
          </select>

          <!-- Free Abroad -->
          <select id="filterFreeAbroad" class="filter-select">
            <option value="">Frais à l'étranger</option>
            <option value="yes">Sans frais de paiement</option>
            <option value="no">Avec frais</option>
          </select>

          <!-- Insurance -->
          <select id="filterInsurance" class="filter-select">
            <option value="">Assurance voyage</option>
            <option value="yes">Avec assurance</option>
            <option value="no">Sans assurance</option>
          </select>

          <!-- Max Budget -->
          <input type="number" id="maxBudget" placeholder="Budget max EUR/mois" class="filter-select">
        </div>

        <div class="flex flex-wrap justify-between items-center gap-4">
          <button onclick="resetFilters()" class="btn-danger">
            Réinitialiser les filtres
          </button>

          <div class="flex gap-2 desktop-view-switcher">
            <button id="viewTable" onclick="setViewMode('table')" class="btn-secondary active">
              Tableau
            </button>
            <button id="viewCards" onclick="setViewMode('cards')" class="btn-secondary">
              Cartes
            </button>
          </div>

          <div class="flex items-center gap-2">
            <span class="text-sm text-gray-500">Trier par :</span>
            <select id="sortKey" class="filter-select" style="min-width: 120px;">
              <option value="monthlyFee">Prix</option>
              <option value="bank">Banque</option>
              <option value="offerType">Gamme</option>
            </select>
            <button id="sortOrderBtn" onclick="toggleSortOrder()" class="btn-secondary">
              <span id="sortArrow">&#8593;</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Results count (desktop) -->
    <div class="mb-4 text-sm text-gray-500 desktop-results-count">
      <span id="resultsCount">0</span> offres trouvées
    </div>

    <!-- Table View -->
    <div id="tableView" class="glass-card rounded-2xl overflow-hidden">
      <div class="overflow-x-auto">
        <table class="data-table">
          <thead>
            <tr>
              <th onclick="handleSort('bank')">Banque / Offre</th>
              <th onclick="handleSort('monthlyFee')">Prix/mois</th>
              <th onclick="handleSort('inactivityFee')">Si non utilisée</th>
              <th onclick="handleSort('cardType')">Carte</th>
              <th onclick="handleSort('paymentsFreeAbroad')">Paiements etr.</th>
              <th onclick="handleSort('withdrawalsFreeAbroad')">Retraits etr.</th>
              <th onclick="handleSort('swiftOutgoing')">SWIFT émis</th>
              <th onclick="handleSort('swiftIncoming')">SWIFT reçu</th>
              <th onclick="handleSort('swiftForeignCurrencySurcharge')">Surcoût devise</th>
              <th onclick="handleSort('insuranceTravel')">Assurance</th>
              <th onclick="handleSort('incomeRequired')">Revenus requis</th>
              <th onclick="handleSort('referral')">Parrainage</th>
            </tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>
    </div>

    <!-- Cards View -->
    <div id="cardsView" class="hidden grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
    </div>

    <!-- Empty State -->
    <div id="emptyState" class="hidden glass-card rounded-2xl text-center py-16 px-6">
      <div class="text-5xl mb-4">&#128269;</div>
      <p class="text-lg text-gray-400 mb-4">Aucune offre ne correspond à vos critères</p>
      <button onclick="resetFilters()" class="btn-primary">Réinitialiser les filtres</button>
    </div>

    <!-- Footer -->
    <div class="mt-10 text-center text-sm text-gray-600">
      <p>Sources : Sites officiels des banques - tarifs-bancaires.gouv.fr - Rapport OTB Banque de France 2025</p>
      <p class="mt-2">Données mises à jour en janvier 2026. Vérifiez les conditions sur les sites officiels.</p>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal-overlay hidden" onclick="closeModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div id="modalContent"></div>
    </div>
  </div>

  <script>
    // Bank logos
    const bankLogos = {
      'BoursoBank': 'assets/boursobank_logo.png',
      'Fortuneo': 'assets/fortuneo_logo.png',
      'N26': 'assets/n26_logo.png',
      'Revolut': 'https://www.revolut.com/favicon-192x192.png',
      'Hello bank!': 'https://www.hellobank.fr/content/dam/bnpparibas/hellobank/favicon/apple-touch-icon.png',
      'Monabanq': 'https://www.monabanq.com/favicon-192x192.png',
      'Nickel': 'https://www.nickel.eu/favicon-192x192.png',
      'Wise': 'https://wise.com/public-resources/assets/favicons/favicon-192x192.png',
      'Sumeria (ex-Lydia)': 'https://sumeria.eu/favicon-192x192.png',
      'Orange Bank': 'https://www.orangebank.fr/favicon-192x192.png',
      'Ma French Bank': 'https://www.mafrenchbank.fr/favicon-192x192.png',
      'BforBank': 'https://www.bforbank.com/favicon-192x192.png',
      'CIC': 'assets/cic_logo.svg',
      'LCL': 'assets/Lcl_logo.png',
      'Trade Republic': 'https://traderepublic.com/favicon.ico',
      'CCF (HSBC France)': 'https://www.hsbc.fr/etc.clientlibs/dpws-global/clientlibs/resources/images/favicon.ico',
      'Crypto.com': 'https://crypto.com/favicon-96x96.png',
      'Binance': 'https://www.binance.com/favicon.ico',
      'Nexo': 'https://nexo.io/favicon-96x96.png'
    };

    // Bank offers data
    const bankOffers = [
      // BOURSOBANK
      { id: 'bourso-welcome', bank: 'BoursoBank', bankType: 'online', bankColor: '#00a9ce', bankLogo: 'BB', offerName: 'Welcome', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: '5EUR/mois si aucun paiement', inactivityFee: 5, inactivityFeeCondition: 'Si aucun paiement dans le mois', cardType: 'Visa Classic', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 1, withdrawalsFreeAbroadUnit: '/mois', withdrawalsExtraFee: '1,69%', freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 'Gratuit', swiftIncoming: '0,1% (min 20€)', swiftForeignCurrencySurcharge: 'Marge change 1%', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 5000, maxWithdrawalWeek: 500, overdraftAvailable: false, virtualCard: true, iban: 'FR', highlights: ['Gratuite sans condition de revenus', 'Paiements à l\'étranger gratuits'], targetProfile: 'Débutants, étudiants', url: 'https://www.boursobank.com', pricingUrl: 'https://www.boursobank.com/aide-en-ligne/mes-services/conditions-generales-et-tarifaires', referral: { sponsor: '150€', sponsored: '150€', conditions: 'Ouverture compte + 1ère transaction' }, subscriptionBenefits: ['Retraits illimités en euros gratuits', 'Paiements sans frais partout dans le monde', '1 retrait gratuit par mois en devises étrangères', 'Carte virtuelle gratuite incluse'] },
      { id: 'bourso-ultim', bank: 'BoursoBank', bankType: 'online', bankColor: '#00a9ce', bankLogo: 'BB', offerName: 'Ultim', offerType: 'premium', monthlyFee: 0, monthlyFeeCondition: '9EUR/mois si aucun paiement', inactivityFee: 9, inactivityFeeCondition: 'Si aucun paiement dans le mois', cardType: 'Visa Premier', cardDebit: 'immediate', cardDebitDiffere: true, cardDebitDiffereCondition: '2 400EUR revenus nets', incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 3, withdrawalsFreeAbroadUnit: '/mois', withdrawalsExtraFee: '1,69%', freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 'Gratuit', swiftIncoming: '0,1% (min 20€)', swiftForeignCurrencySurcharge: 'Marge change 1%', insuranceTravel: true, insuranceTravelDetails: 'Visa Premier : frais médicaux, rapatriement, bagages', insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 20000, maxWithdrawalWeek: 2000, overdraftAvailable: true, overdraftMax: 2500, virtualCard: true, iban: 'FR', highlights: ['Carte gratuite equivalent Visa Premier', 'Assurances voyage incluses', 'Sans frais à l\'étranger'], targetProfile: 'Voyageurs occasionnels, actifs', url: 'https://www.boursobank.com', pricingUrl: 'https://www.boursobank.com/aide-en-ligne/mes-services/conditions-generales-et-tarifaires', referral: { sponsor: '150€', sponsored: '150€', conditions: 'Ouverture compte + 1ère transaction' }, subscriptionBenefits: ['Paiements et retraits illimites gratuits en zone euro', '3 retraits gratuits par mois hors zone euro', 'Protection voyage jusqu\'à 5 020 000 EUR', 'Garanties retard/perte bagages, incidents neige et montagne', 'Découverts autorisés jusqu\'à 2 500 EUR'] },
      { id: 'bourso-metal', bank: 'BoursoBank', bankType: 'online', bankColor: '#00a9ce', bankLogo: 'BB', offerName: 'Metal', offerType: 'black', monthlyFee: 9.90, monthlyFeeCondition: '5,90EUR/mois version dématérialisée', cardType: 'Visa Ultim Metal', cardDebit: 'immediate', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 'Illimité', withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: null, freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 'Gratuit', swiftIncoming: '0,1% (min 20€)', swiftForeignCurrencySurcharge: 'Marge change 1%', insuranceTravel: true, insuranceTravelDetails: 'Couverture jusqu\'à 5M EUR, annulation voyage 10K EUR', insuranceMeansPayment: true, loungeAccess: true, loungeAccessDetails: 'Smart Delay en cas de retard', cashback: true, cashbackRate: '0,2% EUR / 2% devises', maxPaymentMonth: 50000, maxWithdrawalWeek: 3000, overdraftAvailable: true, overdraftMax: 10000, virtualCard: true, iban: 'FR', highlights: ['Retraits illimités dans le monde', 'Cashback sur achats', 'Conciergerie et salons'], targetProfile: 'Grands voyageurs, clients premium', url: 'https://www.boursobank.com', pricingUrl: 'https://www.boursobank.com/aide-en-ligne/mes-services/conditions-generales-et-tarifaires', referral: { sponsor: '150€', sponsored: '150€', conditions: 'Ouverture compte + 1ère transaction' }, subscriptionBenefits: ['Paiements et retraits illimites sans frais dans le monde entier', 'Cashback 0,2% sur achats en EUR et 2% en devises', 'Accès gratuit aux salons d\'aéroport via Smart Delay (retard vol > 1h)', 'Accès pour vous + jusqu\'à 3 passagers aux 1000 salons d\'aéroport', 'Conciergerie premium 24/7', 'Version dématérialisée disponible à 5,90EUR/mois'] },

      // FORTUNEO
      { id: 'fortuneo-fosfo', bank: 'Fortuneo', bankType: 'online', bankColor: '#d6007d', bankLogo: 'FO', offerName: 'Fosfo', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: '3EUR/mois si aucun paiement', inactivityFee: 3, inactivityFeeCondition: 'Si aucun paiement dans le mois', cardType: 'Mastercard Standard', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 'Illimité', withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: null, freeWithdrawalsEuro: 'Illimité', swiftOutgoing: '0,1% (min 23€)', swiftIncoming: 12, swiftForeignCurrencySurcharge: '0,1% + marge 1%', insuranceTravel: true, insuranceTravelDetails: 'Assistance medicale et rapatriement basique', insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 8000, maxWithdrawalWeek: 500, overdraftAvailable: true, overdraftMax: 200, virtualCard: true, iban: 'FR', highlights: ['Retraits gratuits partout dans le monde', 'Sans condition de revenus', 'La plus genereuse à l\'étranger'], targetProfile: 'Voyageurs, tous profils', url: 'https://www.fortuneo.fr', pricingUrl: 'https://www.fortuneo.fr/tarifs', referral: { sponsor: '150€', sponsored: '80€', conditions: 'Ouverture compte + versement initial' } },
      { id: 'fortuneo-gold', bank: 'Fortuneo', bankType: 'online', bankColor: '#d6007d', bankLogo: 'FO', offerName: 'Gold CB Mastercard', offerType: 'premium', monthlyFee: 0, monthlyFeeCondition: '9EUR/mois si aucun paiement', inactivityFee: 9, inactivityFeeCondition: 'Si aucun paiement dans le mois', cardType: 'Gold Mastercard', cardDebit: 'both', cardDebitDiffere: true, cardDebitDiffereCondition: '2 200EUR revenus nets', incomeRequired: 2200, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 'Illimité', withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: null, freeWithdrawalsEuro: 'Illimité', swiftOutgoing: '0,1% (min 23€)', swiftIncoming: 12, swiftForeignCurrencySurcharge: '0,1% + marge 1%', insuranceTravel: true, insuranceTravelDetails: 'Annulation voyage, frais médicaux, bagages, location voiture', insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 8000, maxWithdrawalWeek: 1000, overdraftAvailable: true, overdraftMax: 200, virtualCard: true, iban: 'FR', highlights: ['Seule Gold gratuite du marché', 'Débit différé disponible', 'Retraits illimités monde entier'], targetProfile: 'Voyageurs réguliers, revenus 1800EUR+', url: 'https://www.fortuneo.fr', pricingUrl: 'https://www.fortuneo.fr/tarifs', referral: { sponsor: '150€', sponsored: '80€', conditions: 'Ouverture compte + versement initial' } },
      { id: 'fortuneo-world-elite', bank: 'Fortuneo', bankType: 'online', bankColor: '#d6007d', bankLogo: 'FO', offerName: 'World Elite', offerType: 'black', monthlyFee: 0, monthlyFeeCondition: '50EUR/trim. si versement < 4000EUR/mois', inactivityFee: '50EUR/trim.', inactivityFeeCondition: 'Si versements < 4000EUR/mois', cardType: 'World Elite Mastercard', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: 4000, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 'Illimité', withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: null, freeWithdrawalsEuro: 'Illimité', swiftOutgoing: '0,1% (min 23€)', swiftIncoming: 12, swiftForeignCurrencySurcharge: '0,1% + marge 1%', insuranceTravel: true, insuranceTravelDetails: 'RC 5M EUR, frais médicaux 155K EUR, annulation 10K EUR', insuranceMeansPayment: true, loungeAccess: true, loungeAccessDetails: 'Accès salons Mastercard + conciergerie 24/7', cashback: false, maxPaymentMonth: 12000, maxWithdrawalWeek: 1600, overdraftAvailable: true, overdraftMax: 200, virtualCard: true, iban: 'FR', highlights: ['Seule World Elite gratuite du marché', 'Conciergerie 24/7', 'Assurances ultra-complètes'], targetProfile: 'Cadres supérieurs, grands voyageurs', url: 'https://www.fortuneo.fr', pricingUrl: 'https://www.fortuneo.fr/tarifs', referral: { sponsor: '150€', sponsored: '80€', conditions: 'Ouverture compte + versement initial' } },

      // N26
      { id: 'n26-standard', bank: 'N26', bankType: 'neo', bankColor: '#36a18b', bankLogo: 'N26', offerName: 'Standard', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: 'Carte physique 10EUR', cardType: 'Mastercard (virtuelle)', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '1,7%', freeWithdrawalsEuro: '3/mois', freeWithdrawalsEuroExtra: '2EUR/retrait', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 80000, maxWithdrawalWeek: 1050, overdraftAvailable: false, virtualCard: true, iban: 'FR', highlights: ['100% gratuit', 'Paiements gratuits partout', 'Gestion budgétaire avancée'], targetProfile: 'Petits budgets, complementaire', url: 'https://n26.com/fr-fr', pricingUrl: 'https://n26.com/fr-fr/tarifs-var37', referral: { sponsor: '15€', sponsored: '15€', conditions: '1ère transaction effectuee' } },
      { id: 'n26-smart', bank: 'N26', bankType: 'neo', bankColor: '#36a18b', bankLogo: 'N26', offerName: 'Smart', offerType: 'basic', monthlyFee: 4.90, monthlyFeeCondition: null, cardType: 'Mastercard', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '1,7%', freeWithdrawalsEuro: '5/mois', freeWithdrawalsEuroExtra: '2EUR/retrait', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 80000, maxWithdrawalWeek: 1050, overdraftAvailable: false, virtualCard: true, iban: 'FR', highlights: ['Sous-comptes pour budgetiser', 'Carte physique incluse', 'Support téléphone'], targetProfile: 'Utilisateurs quotidiens', url: 'https://n26.com/fr-fr', pricingUrl: 'https://n26.com/fr-fr/tarifs-var37', referral: { sponsor: '15€', sponsored: '15€', conditions: '1ère transaction effectuee' }, subscriptionBenefits: ['Carte bancaire physique en couleur incluse', 'Accès a jusqu\'à 10 tirelires (sous-comptes)', 'Service client par téléphone', 'Réductions auprès de partenaires', '5 retraits gratuits en zone euro (vs 3 en Standard)'] },
      { id: 'n26-you', bank: 'N26', bankType: 'neo', bankColor: '#36a18b', bankLogo: 'N26', offerName: 'You', offerType: 'premium', monthlyFee: 9.90, monthlyFeeCondition: null, cardType: 'Mastercard', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 'Illimité', withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: null, freeWithdrawalsEuro: '5/mois', freeWithdrawalsEuroExtra: '2EUR/retrait', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: true, insuranceTravelDetails: 'Allianz : frais médicaux, vols, bagages, sports d\'hiver', insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 80000, maxWithdrawalWeek: 1050, overdraftAvailable: false, virtualCard: true, iban: 'FR', highlights: ['Retraits illimités hors zone euro', 'Assurance voyage Allianz', 'Epargne remuneree 1,3%'], targetProfile: 'Voyageurs frequents', url: 'https://n26.com/fr-fr', pricingUrl: 'https://n26.com/fr-fr/tarifs-var37', referral: { sponsor: '15€', sponsored: '15€', conditions: '1ère transaction effectuee' }, subscriptionBenefits: ['Retraits illimités gratuits en devises étrangères', 'Carte personnalisable avec 5 couleurs au choix', 'Assurances medicales et voyage complètes', 'Assurance bagages et vols retardés', 'Couverture sports d\'hiver et location véhicules en libre-service'] },
      { id: 'n26-metal', bank: 'N26', bankType: 'neo', bankColor: '#36a18b', bankLogo: 'N26', offerName: 'Metal', offerType: 'black', monthlyFee: 16.90, monthlyFeeCondition: null, cardType: 'Mastercard Metal', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 'Illimité', withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: null, freeWithdrawalsEuro: '8/mois', freeWithdrawalsEuroExtra: '2EUR/retrait', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: true, insuranceTravelDetails: 'Voyage complète + location voiture + smartphone', insuranceMeansPayment: true, loungeAccess: true, loungeAccessDetails: 'Accès salons achetable dans l\'app', cashback: false, maxPaymentMonth: 80000, maxWithdrawalWeek: 1050, overdraftAvailable: false, virtualCard: true, iban: 'FR', highlights: ['Carte metal premium', 'Assurance smartphone incluse', 'Service client prioritaire'], targetProfile: 'Clients premium, voyageurs', url: 'https://n26.com/fr-fr', pricingUrl: 'https://n26.com/fr-fr/tarifs-var37', referral: { sponsor: '15€', sponsored: '15€', conditions: '1ère transaction effectuee' }, subscriptionBenefits: ['Carte physique Mastercard Metal (choix de 3 couleurs)', 'Retraits gratuits aux DAB dans le monde entier', 'Cashback de 0,5% sur tous les achats', 'Protection des nouveaux achats jusqu\'à 10 000 EUR par an', 'Assurance téléphone portable complète', 'Accès VIP a des événements exclusifs', 'Compte d\'épargne au taux de la BCE (si compte ouvert après fév. 2025)'] },

      // REVOLUT
      { id: 'revolut-standard', bank: 'Revolut', bankType: 'neo', bankColor: '#0066ff', bankLogo: 'R', offerName: 'Standard', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: 'Livraison carte 5,99EUR', cardType: 'Mastercard/Visa', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 200, withdrawalsFreeAbroadUnit: 'EUR/mois', withdrawalsExtraFee: '2% au-dela', freeWithdrawalsEuro: '200EUR/mois', freeWithdrawalsEuroExtra: '2% au-dela', swiftOutgoing: 15, swiftIncoming: 5, swiftForeignCurrencySurcharge: '1% >1000€/mois', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 'Personnalisable', maxWithdrawalWeek: 'Personnalisable', overdraftAvailable: false, virtualCard: true, virtualCardDisposable: true, iban: 'LT/FR', highlights: ['Multi-devises', 'Change au taux interbancaire', 'Crypto et actions'], targetProfile: 'Usage international, fintech', url: 'https://www.revolut.com/fr-FR', pricingUrl: 'https://www.revolut.com/fr-FR/legal/fees/', referral: { sponsor: '50€', sponsored: '50€', conditions: '3 transactions par carte' } },
      { id: 'revolut-plus', bank: 'Revolut', bankType: 'neo', bankColor: '#0066ff', bankLogo: 'R', offerName: 'Plus', offerType: 'basic', monthlyFee: 3.99, monthlyFeeCondition: null, cardType: 'Mastercard/Visa', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 200, withdrawalsFreeAbroadUnit: 'EUR/mois', withdrawalsExtraFee: '2% au-dela', freeWithdrawalsEuro: '200EUR/mois', freeWithdrawalsEuroExtra: '2% au-dela', swiftOutgoing: 15, swiftIncoming: 5, swiftForeignCurrencySurcharge: '1% >1000€/mois', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 'Personnalisable', maxWithdrawalWeek: 'Personnalisable', overdraftAvailable: false, virtualCard: true, iban: 'LT/FR', highlights: ['Change illimite', 'Cartes virtuelles jetables', 'Protection achats'], targetProfile: 'Utilisateurs réguliers', url: 'https://www.revolut.com/fr-FR', pricingUrl: 'https://www.revolut.com/fr-FR/legal/fees/', referral: { sponsor: '50€', sponsored: '50€', conditions: '3 transactions par carte' } },
      { id: 'revolut-premium', bank: 'Revolut', bankType: 'neo', bankColor: '#0066ff', bankLogo: 'R', offerName: 'Premium', offerType: 'premium', monthlyFee: 9.99, monthlyFeeCondition: null, cardType: 'Mastercard/Visa Premium', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 400, withdrawalsFreeAbroadUnit: 'EUR/mois', withdrawalsExtraFee: '2% au-dela', freeWithdrawalsEuro: '400EUR/mois', freeWithdrawalsEuroExtra: '2% au-dela', swiftOutgoing: 15, swiftIncoming: 5, swiftForeignCurrencySurcharge: 'Réduit', insuranceTravel: true, insuranceTravelDetails: 'Retard vol, bagages perdus, frais médicaux', insuranceMeansPayment: true, loungeAccess: true, loungeAccessDetails: '1 acces salon gratuit/mois', cashback: true, cashbackRate: '0,1% Europe', maxPaymentMonth: 'Personnalisable', maxWithdrawalWeek: 'Personnalisable', overdraftAvailable: false, virtualCard: true, iban: 'LT/FR', highlights: ['1 acces lounge/mois', 'Cashback 0,1%', 'Assurance téléphone'], targetProfile: 'Voyageurs réguliers, fintech', url: 'https://www.revolut.com/fr-FR', pricingUrl: 'https://www.revolut.com/fr-FR/legal/fees/', referral: { sponsor: '50€', sponsored: '50€', conditions: '3 transactions par carte' }, subscriptionBenefits: ['Retraits gratuits jusqu\'à 400 EUR/mois', 'Paiements illimités sans frais à l\'étranger', 'Assurances voyage et protections des achats', 'Abonnements exclusifs d\'une valeur de 800 EUR/an (Uber One, NordVPN...)', '5 operations boursières par mois sans commission', 'Frais de change réduits sur matières premières', '1 acces salon d\'aéroport gratuit par mois'] },
      { id: 'revolut-metal', bank: 'Revolut', bankType: 'neo', bankColor: '#0066ff', bankLogo: 'R', offerName: 'Metal', offerType: 'black', monthlyFee: 16.99, monthlyFeeCondition: null, cardType: 'Metal Mastercard/Visa', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 800, withdrawalsFreeAbroadUnit: 'EUR/mois', withdrawalsExtraFee: '2% au-dela', freeWithdrawalsEuro: '800EUR/mois', freeWithdrawalsEuroExtra: '2% au-dela', swiftOutgoing: 15, swiftIncoming: 5, swiftForeignCurrencySurcharge: '-40% sur frais', insuranceTravel: true, insuranceTravelDetails: 'Complete : retard, bagages, médicaux, location voiture', insuranceMeansPayment: true, loungeAccess: true, loungeAccessDetails: '3 acces salons/mois + 1 invite', cashback: true, cashbackRate: '1% hors Europe', maxPaymentMonth: 'Personnalisable', maxWithdrawalWeek: 'Personnalisable', overdraftAvailable: false, virtualCard: true, iban: 'LT/FR', highlights: ['Carte metal', '3 lounges/mois', 'Cashback 1% hors Europe'], targetProfile: 'Grands voyageurs, premium', url: 'https://www.revolut.com/fr-FR', pricingUrl: 'https://www.revolut.com/fr-FR/legal/fees/', referral: { sponsor: '50€', sponsored: '50€', conditions: '3 transactions par carte' }, subscriptionBenefits: ['800 EUR de retraits gratuits mensuels', 'Cashback bonifié a 0,8% (vs 0,6% Premium)', 'Abonnements exclusifs valorisés a 2 600 EUR/an (WeWork, Uber One, NordVPN...)', 'Responsabilité civile jusqu\'à 1 000 000 EUR/an', 'Assurance pour location de voiture complète', 'Remise de 40% sur frais de virements internationaux', '10 operations boursières par mois sans commission', '3 acces salons d\'aéroport par mois + 1 invite'] },

      // TRADE REPUBLIC
      { id: 'trade-republic-standard', bank: 'Trade Republic', bankType: 'neo', bankColor: '#05d9a3', bankLogo: 'TR', offerName: 'Trade Republic', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: 'Carte Virtual gratuite, Classic 5EUR (unique), Mirror 50EUR (unique)', cardType: 'Visa Debit', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '1EUR si < 100EUR', freeWithdrawalsEuro: 'Gratuits si >= 100EUR', freeWithdrawalsEuroExtra: '1EUR si < 100EUR', swiftOutgoing: 'Gratuit', swiftIncoming: 'Gratuit', swiftForeignCurrencySurcharge: 'Taux de change auto', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: true, cashbackRate: '1% si >= 100EUR', maxPaymentMonth: 'Personnalisable', maxWithdrawalWeek: 'Personnalisable', overdraftAvailable: false, virtualCard: true, iban: 'DE', highlights: ['2% interets sur solde sans plafond', 'Trading 1EUR/ordre (actions/ETF)', 'Cashback 1% si >= 100EUR'], targetProfile: 'Investisseurs, épargnants', url: 'https://traderepublic.com/fr-fr', pricingUrl: 'https://traderepublic.com/fr-fr?openModal=pricing-scheme', savingsRate: '2%', savingsRateDetails: 'Intérêts sur tout le solde sans plafond', referral: { sponsor: 'Jusqu\'à 500€', sponsored: '10€ a 500€', conditions: 'En actions, 1ère transaction requise' }, subscriptionBenefits: ['Intérêts de 3% brut sur solde non investi (ou 2,25% sur fonds non investis jusqu\'à 50 000 EUR)', 'Frais de trading ultra-compétitifs : 1 EUR par ordre, quel que soit le montant', 'Carte de paiement gratuite avec cashback de 1% (plafonné a 15 EUR/mois)', 'Cashback reinvesti en actions et ETF selectionnes', 'Investissement fractionné a partir de 1 EUR', 'Plans d\'investissement automatisés sans commission', 'Garantie des dépôts allemande jusqu\'à 100 000 EUR par client'] },

      // HELLO BANK
      { id: 'hello-one', bank: 'Hello bank!', bankType: 'online', bankColor: '#009a9a', bankLogo: 'HB', offerName: 'Hello One', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: 'Gratuit', cardType: 'Visa Hello One', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '1,50EUR', freeWithdrawalsEuro: '5 gratuits/mois', freeWithdrawalsEuroExtra: '1EUR au-dela', swiftOutgoing: 25, swiftIncoming: 19, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 6000, maxWithdrawalWeek: 1000, overdraftAvailable: true, overdraftMax: 200, virtualCard: true, iban: 'FR', highlights: ['Filiale BNP Paribas', 'Paiements gratuits', '100% mobile'], targetProfile: 'Jeunes, premier compte', url: 'https://www.hellobank.fr', pricingUrl: 'https://www.hellobank.fr/fr/tarifs/', referral: { sponsor: '80€', sponsored: '180€', conditions: 'Ouverture compte + 1ere utilisation' } },
      { id: 'hello-prime', bank: 'Hello bank!', bankType: 'online', bankColor: '#009a9a', bankLogo: 'HB', offerName: 'Hello Prime', offerType: 'premium', monthlyFee: 5, monthlyFeeCondition: 'Gratuit avec 1000EUR revenus', cardType: 'Visa Premier', cardDebit: 'both', cardDebitDiffere: true, cardDebitDiffereCondition: '1 000EUR revenus nets', incomeRequired: 1000, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '1,50EUR', freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 25, swiftIncoming: 19, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances Visa Premier', insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 12000, maxWithdrawalWeek: 2000, overdraftAvailable: true, overdraftMax: 500, virtualCard: true, iban: 'FR', highlights: ['Visa Premier a 5EUR', 'Assurances incluses', 'Débit différé'], targetProfile: 'Actifs, voyageurs occasionnels', url: 'https://www.hellobank.fr', pricingUrl: 'https://www.hellobank.fr/fr/tarifs/', referral: { sponsor: '80€', sponsored: '180€', conditions: 'Ouverture compte + 1ere utilisation' }, subscriptionBenefits: ['Plafonds élevés : 2 500 EUR paiements, 1 000 EUR retraits', 'Retraits et paiements internationaux illimites gratuits', 'Cashback jusqu\'à 50 EUR par an', 'Service client prioritaire', 'Premiers 6 mois de frais offerts pour nouveaux clients', 'Débit différé disponible avec revenus de 1 500 EUR/mois'] },

      // MONABANQ
      { id: 'monabanq-pratiq', bank: 'Monabanq', bankType: 'online', bankColor: '#dc0032', bankLogo: 'MB', offerName: 'Pratiq', offerType: 'basic', monthlyFee: 3, monthlyFeeCondition: null, cardType: 'Visa Classic', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2EUR', freeWithdrawalsEuro: '3 gratuits/mois', freeWithdrawalsEuroExtra: '1EUR au-dela', swiftOutgoing: 12, swiftIncoming: 5, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 3000, maxWithdrawalWeek: 500, overdraftAvailable: true, overdraftMax: 250, virtualCard: false, iban: 'FR', highlights: ['Sans condition revenus', 'Elue service client', 'Filiale Credit Mutuel'], targetProfile: 'Tous profils, service client', url: 'https://www.monabanq.com', pricingUrl: 'https://www.monabanq.com/tarifs', referral: { sponsor: '50€', sponsored: '120€', conditions: 'Ouverture compte + activation carte' }, subscriptionBenefits: ['Retraits et paiements illimites en zone euro', 'Dépôt de chèques illimite dans réseau Credit Mutuel/CIC', 'Découverts autorisés sans frais', '1 virement instantané gratuit par mois', 'Accès a un chéquier', '4 dépôts d\'espèces gratuits par an'] },
      { id: 'monabanq-uniq', bank: 'Monabanq', bankType: 'online', bankColor: '#dc0032', bankLogo: 'MB', offerName: 'Uniq', offerType: 'premium', monthlyFee: 9, monthlyFeeCondition: null, cardType: 'Visa Premier', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 3, withdrawalsFreeAbroadUnit: '/mois', withdrawalsExtraFee: '2EUR', freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 12, swiftIncoming: 5, insuranceTravel: true, insuranceTravelDetails: 'Assurances Visa Premier complètes', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 15000, maxWithdrawalWeek: 2000, overdraftAvailable: true, overdraftMax: 500, virtualCard: true, iban: 'FR', highlights: ['Visa Premier sans revenus', 'Assurances complètes', 'Service client primé'], targetProfile: 'Tous profils premium', url: 'https://www.monabanq.com', pricingUrl: 'https://www.monabanq.com/tarifs', referral: { sponsor: '50€', sponsored: '120€', conditions: 'Ouverture compte + activation carte' }, subscriptionBenefits: ['Paiements et retraits gratuits et illimites en euros et devises', 'Plafonds élevés : 3 000 EUR sur 30 jours, 700 EUR retraits sur 7 jours', 'Assurances et assistance premium Visa Premier complètes', 'Assurance moyens de paiement incluse', '2 virements instantanés gratuits par mois', 'Sans condition de revenus, epargne ou versements réguliers'] },

      // NICKEL
      { id: 'nickel-standard', bank: 'Nickel', bankType: 'neo', bankColor: '#00cc66', bankLogo: 'NK', offerName: 'Nickel', offerType: 'basic', monthlyFee: 1.67, monthlyFeeCondition: '20EUR/an', cardType: 'Mastercard', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '1EUR', freeWithdrawalsEuro: '3 gratuits/mois', freeWithdrawalsEuroExtra: '0,50EUR au-dela', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 2500, maxWithdrawalWeek: 500, overdraftAvailable: false, virtualCard: false, iban: 'FR', highlights: ['Ouverture en 5 min', 'Sans refus', 'Points tabac/presse'], targetProfile: 'Tous profils, urgence', url: 'https://www.nickel.eu', pricingUrl: 'https://nickel.eu/fr/tarifs' },
      { id: 'nickel-chrome', bank: 'Nickel', bankType: 'neo', bankColor: '#00cc66', bankLogo: 'NK', offerName: 'Nickel Chrome', offerType: 'premium', monthlyFee: 4.17, monthlyFeeCondition: '50EUR/an', cardType: 'Mastercard Chrome', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 3, withdrawalsFreeAbroadUnit: '/mois', withdrawalsExtraFee: '1EUR', freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: true, insuranceTravelDetails: 'Assurance voyage basique', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 3000, maxWithdrawalWeek: 800, overdraftAvailable: false, virtualCard: false, iban: 'FR', highlights: ['Plafonds plus élevés', 'Assurance incluse', 'Frais réduits à l\'étranger'], targetProfile: 'Usage régulier, voyages occasionnels', url: 'https://www.nickel.eu', pricingUrl: 'https://nickel.eu/fr/tarifs', subscriptionBenefits: ['Paiements gratuits et illimites en zone euro et devises étrangères', 'Retraits illimités en euros gratuits', 'Frais réduits hors zone euro : 1,50 EUR (vs 2,50 EUR carte standard)', 'Assurances et assistance voyage Mastercard exclusives', 'Couverture retards/annulations vols et bagages perdus/volés', 'Plafonds élevés : 2 000 EUR/mois en paiements', 'Prix ultra-compétitif : 55 EUR/an seulement'] },

      // WISE
      { id: 'wise-standard', bank: 'Wise', bankType: 'neo', bankColor: '#37517e', bankLogo: 'WS', offerName: 'Wise', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: 'Carte 7EUR (unique)', cardType: 'Visa Debit', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 200, withdrawalsFreeAbroadUnit: 'EUR/mois', withdrawalsExtraFee: '1,75% au-dela', freeWithdrawalsEuro: '200EUR/mois', freeWithdrawalsEuroExtra: '0,50EUR + 1,75%', swiftOutgoing: 3, swiftIncoming: 2.39, swiftForeignCurrencySurcharge: 'Taux réel + 0,47%', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 'Illimité', maxWithdrawalWeek: 'Variable', overdraftAvailable: false, virtualCard: true, iban: 'Multi (BE/AU/US/SG...)', ibanDetails: 'IBAN dans 10+ pays', highlights: ['Multi-devises (50+ monnaies)', 'Taux de change reel', 'IBAN dans 10+ pays'], targetProfile: 'Expatriés, freelances internationaux', url: 'https://wise.com/fr', pricingUrl: 'https://wise.com/fr/pricing', subscriptionBenefits: ['Gestion de plus de 50 devises dans un seul compte', 'Taux de change interbancaire reel avec frais transparents', 'Coordonnées bancaires locales dans 10+ pays', 'Carte Mastercard gratuite sélectionnant automatiquement la bonne devise', 'Paiements sans frais a l\'international', 'Ouverture et gestion de compte gratuites (0 frais si solde a zero)', '2 retraits gratuits jusqu\'à 200 EUR par mois'] },

      // SUMERIA
      { id: 'sumeria-standard', bank: 'Sumeria (ex-Lydia)', bankType: 'neo', bankColor: '#00d4ff', bankLogo: 'SU', offerName: 'Sumeria', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: '3€/mois', cardType: 'Visa', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '1,5%', freeWithdrawalsEuro: '3/mois', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 3000, maxWithdrawalWeek: 500, overdraftAvailable: false, virtualCard: true, iban: 'FR', highlights: ['Paiement entre amis', 'Cagnottes', 'App très populaire'], targetProfile: 'Jeunes, paiements entre amis', url: 'https://www.sumeria.eu', pricingUrl: 'https://sumeria.eu/fondamentaux/tarifs-limites/' },
      { id: 'sumeria-plus', bank: 'Sumeria (ex-Lydia)', bankType: 'neo', bankColor: '#00d4ff', bankLogo: 'SU', offerName: 'Sumeria+', offerType: 'premium', monthlyFee: 8.99, monthlyFeeCondition: null, cardType: 'Visa', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 3, withdrawalsFreeAbroadUnit: '/mois', withdrawalsExtraFee: '1,5%', freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: true, insuranceTravelDetails: 'Assurance voyage basique', insuranceMeansPayment: true, loungeAccess: false, cashback: true, cashbackRate: '0,5% sur achats', maxPaymentMonth: 15000, maxWithdrawalWeek: 2000, overdraftAvailable: false, virtualCard: true, iban: 'FR', highlights: ['Cashback 0,5%', 'Retraits illimités en euros', 'Plafonds élevés'], targetProfile: 'Jeunes actifs', url: 'https://www.sumeria.eu', pricingUrl: 'https://sumeria.eu/fondamentaux/tarifs-limites/', subscriptionBenefits: ['Cashback de 0,5% sur tous les achats', 'Retraits illimités gratuits en euros', 'Conseiller dédié pour accompagnement budgetaire', 'Outils de gestion avancées : suivi dépenses et epargne', 'Graphiques de visualisation budget', 'Projets d\'épargne personnalisables', 'Plafonds élevés : 15 000 EUR paiements/mois'] },

      // BFORBANK
      { id: 'bforbank-basic', bank: 'BforBank', bankType: 'online', bankColor: '#009933', bankLogo: 'BFB', offerName: 'BforBASIC', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: 'Gratuite si 1 opération/mois, sinon 2EUR/mois', cardType: 'Visa Classic', cardDebit: 'immediate', cardDebitDiffere: false, cardDebitDiffereCondition: false, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 3, withdrawalsFreeAbroadUnit: '/mois en zone euro', withdrawalsExtraFee: '1,95% hors zone euro', freeWithdrawalsEuro: '3/mois', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 10, swiftIncoming: 0, insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 1500, maxWithdrawalWeek: 500, overdraftAvailable: true, overdraftMax: 1500, virtualCard: true, iban: 'FR', highlights: ['Carte gratuite (1 opération/mois)', 'Filiale Credit Agricole', 'PEA performant'], targetProfile: 'Épargnants, investisseurs', url: 'https://www.bforbank.com', pricingUrl: 'https://www.bforbank.com/tarifs', subscriptionBenefits: ['Carte Visa à autorisation systématique gratuite (si 1 opération/mois)', 'Virements SEPA et instantanés illimités et gratuits', 'Aucune assurance incluse', '3 retraits gratuits par mois en zone euro', 'Accès au PEA performant pour investisseurs', 'Plafonds : 1 500 EUR paiements/mois, 500 EUR retraits/semaine'] },
      { id: 'bforbank-zen', bank: 'BforBank', bankType: 'online', bankColor: '#009933', bankLogo: 'BFB', offerName: 'BforZEN', offerType: 'premium', monthlyFee: 5, monthlyFeeCondition: null, cardType: 'Visa', cardDebit: 'both', cardDebitDiffere: true, cardDebitDiffereCondition: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: 'Gratuit', freeWithdrawalsEuro: 'Illimité', freeWithdrawalsEuroExtra: '', swiftOutgoing: 10, swiftIncoming: 0, insuranceTravel: true, insuranceTravelDetails: 'Assurances voyage complètes', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 5000, maxWithdrawalWeek: 1000, overdraftAvailable: true, overdraftMax: 1500, virtualCard: true, iban: 'FR', highlights: ['Assurances voyage incluses', 'Paiements gratuits à l\'étranger', 'Sans condition de revenus'], targetProfile: 'Épargnants, investisseurs, voyageurs', url: 'https://www.bforbank.com', pricingUrl: 'https://www.bforbank.com/tarifs', subscriptionBenefits: ['Carte Visa premium à 5 EUR/mois sans condition de revenus', 'Virements SEPA et instantanés illimités et gratuits', 'Assurances voyage complètes : annulation, bagages, rapatriement', 'Couverture dommages véhicules de location et frais médicaux à l\'étranger', 'Garantie neige et montagne incluse', 'Paiements en devises gratuits et illimités à l\'étranger', 'Accès au PEA performant pour investisseurs', 'Plafonds élevés : 5 000 EUR paiements/mois, 1 000 EUR retraits/semaine'] },


      // BANQUES TRADITIONNELLES
      { id: 'bnp-essentiel', bank: 'BNP Paribas', bankType: 'traditional', bankColor: '#00965e', bankLogo: 'BNP', offerName: 'Esprit Libre Essentiel', offerType: 'basic', monthlyFee: 8, monthlyFeeCondition: null, cardType: 'Visa Classic', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '3/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 30, swiftIncoming: 19, swiftForeignCurrencySurcharge: '0,1% (min 15€, max 29€)', insuranceTravel: false, insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 8000, maxWithdrawalWeek: 1500, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Réseau d\'agences dense', 'Services complets', 'Tous credits'], targetProfile: 'Besoin d\'agence physique', url: 'https://www.bnpparibas.fr', pricingUrl: 'https://mabanque.bnpparibas/fr/notre-offre/tarifs-et-conditions-bnp-paribas/conditions-tarifaires' },
      { id: 'bnp-premium', bank: 'BNP Paribas', bankType: 'traditional', bankColor: '#00965e', bankLogo: 'BNP', offerName: 'Esprit Libre Visa Premier', offerType: 'premium', monthlyFee: 16, monthlyFeeCondition: null, cardType: 'Visa Premier', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '3/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 30, swiftIncoming: 19, swiftForeignCurrencySurcharge: '0,1% (min 15€, max 29€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances Visa Premier', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 15000, maxWithdrawalWeek: 3000, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Visa Premier avec assurances', 'Conseiller dédié', 'Cash Services gratuit'], targetProfile: 'Clients traditionnels, voyageurs', url: 'https://www.bnpparibas.fr', pricingUrl: 'https://mabanque.bnpparibas/fr/notre-offre/tarifs-et-conditions-bnp-paribas/conditions-tarifaires' },
      { id: 'sg-essentiel', bank: 'Societe Generale', bankType: 'traditional', bankColor: '#e30613', bankLogo: 'SG', offerName: 'Sobrio Essentiel', offerType: 'basic', monthlyFee: 6.90, monthlyFeeCondition: null, cardType: 'Visa Classic', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '3/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 13, swiftIncoming: 22, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: false, insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 8000, maxWithdrawalWeek: 1500, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Grand réseau national', 'Services complets', 'Application moderne'], targetProfile: 'Besoin d\'agence', url: 'https://www.societegenerale.fr', pricingUrl: 'https://particuliers.sg.fr/documentation-tarifs' },
      { id: 'ca-essentiel', bank: 'Credit Agricole', bankType: 'traditional', bankColor: '#009f4d', bankLogo: 'CA', offerName: 'Offre Essentielle', offerType: 'basic', monthlyFee: 2, monthlyFeeCondition: 'Variable selon caisse régionale', cardType: 'Carte a autorisation systematique', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '~2,90%', freeWithdrawalsEuro: '4/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 35, swiftIncoming: 21, swiftForeignCurrencySurcharge: '0,05% (min 20€)', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 3000, maxWithdrawalWeek: 500, overdraftAvailable: false, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Tarifs parmi les plus bas', 'Premier réseau France', 'Mutualiste'], targetProfile: 'Tous profils, rural', url: 'https://www.credit-agricole.fr', pricingUrl: 'https://www.credit-agricole.fr/particulier/informations/tarifs.html' },
      { id: 'ca-gold', bank: 'Credit Agricole', bankType: 'traditional', bankColor: '#009f4d', bankLogo: 'CA', offerName: 'Carte Gold', offerType: 'premium', monthlyFee: 8, monthlyFeeCondition: '~95EUR/an selon caisse', cardType: 'Mastercard Gold', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '~2,90%', freeWithdrawalsEuro: '4/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 35, swiftIncoming: 21, swiftForeignCurrencySurcharge: '0,05% (min 20€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances Gold Mastercard', insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 10000, maxWithdrawalWeek: 2000, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Tarifs compétitifs', 'Assurances incluses', 'Conseiller local'], targetProfile: 'Familles, voyageurs occasionnels', url: 'https://www.credit-agricole.fr', pricingUrl: 'https://www.credit-agricole.fr/particulier/informations/tarifs.html' },
      { id: 'lcl-zen', bank: 'LCL', bankType: 'traditional', bankColor: '#0078be', bankLogo: 'LCL', offerName: 'LCL Zen', offerType: 'premium', monthlyFee: 12, monthlyFeeCondition: null, cardType: 'Visa Premier', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '3/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 26, swiftIncoming: 18, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances Visa Premier', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 15000, maxWithdrawalWeek: 3000, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Pack complet', 'Filiale Credit Agricole', 'Présence urbaine'], targetProfile: 'Urbains, services complets', url: 'https://www.lcl.fr', pricingUrl: 'https://www.lcl.fr/tarifs' },
      { id: 'lbp-formule', bank: 'La Banque Postale', bankType: 'traditional', bankColor: '#003399', bankLogo: 'LBP', offerName: 'Formule de Compte', offerType: 'basic', monthlyFee: 6.90, monthlyFeeCondition: null, cardType: 'Visa Classic', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,75%', freeWithdrawalsEuro: '3/mois hors réseau', freeWithdrawalsEuroExtra: '1,05EUR/retrait', swiftOutgoing: 18, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 6000, maxWithdrawalWeek: 1000, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['17 000 points de contact', 'Mission d\'accessibilité', 'Livret A inclus'], targetProfile: 'Rural, tous publics', url: 'https://www.labanquepostale.fr', pricingUrl: 'https://www.labanquepostale.fr/particulier/footer/tarifs.html' },
      { id: 'lbp-visa-premier', bank: 'La Banque Postale', bankType: 'traditional', bankColor: '#003399', bankLogo: 'LBP', offerName: 'Visa Premier', offerType: 'premium', monthlyFee: 10.50, monthlyFeeCondition: '126EUR/an', cardType: 'Visa Premier', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,75%', freeWithdrawalsEuro: '3/mois hors réseau', freeWithdrawalsEuroExtra: '1,05EUR/retrait', swiftOutgoing: 18, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances Visa Premier complètes', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 12000, maxWithdrawalWeek: 2000, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Assurances voyage complètes', '17 000 points de contact', 'Mission accessibilité bancaire'], targetProfile: 'Voyageurs, familles', url: 'https://www.labanquepostale.fr', pricingUrl: 'https://www.labanquepostale.fr/particulier/footer/tarifs.html' },

      // CREDIT MUTUEL
      { id: 'cm-essentiel', bank: 'Credit Mutuel', bankType: 'traditional', bankColor: '#005eb8', bankLogo: 'CM', offerName: 'Compte Courant', offerType: 'basic', monthlyFee: 3.50, monthlyFeeCondition: 'Variable selon fédération', cardType: 'Mastercard', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '4/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 18, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 5000, maxWithdrawalWeek: 800, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Banque coopérative', 'Réseau dense', 'Tarifs compétitifs'], targetProfile: 'Tous profils, mutualiste', url: 'https://www.creditmutuel.fr', pricingUrl: 'https://www.creditmutuel.fr/fr/tarifs.html' },
      { id: 'cm-gold', bank: 'Credit Mutuel', bankType: 'traditional', bankColor: '#005eb8', bankLogo: 'CM', offerName: 'Gold Mastercard', offerType: 'premium', monthlyFee: 7.50, monthlyFeeCondition: '~90EUR/an selon fédération', cardType: 'Gold Mastercard', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '4/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 18, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances Gold Mastercard', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 10000, maxWithdrawalWeek: 2000, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Assurances voyage', 'Banque coopérative', 'Service client reconnu'], targetProfile: 'Familles, voyageurs occasionnels', url: 'https://www.creditmutuel.fr', pricingUrl: 'https://www.creditmutuel.fr/fr/tarifs.html' },

      // ARKEA (Credit Mutuel de Bretagne / CMSO)
      { id: 'arkea-essentiel', bank: 'Credit Mutuel Arkea', bankType: 'traditional', bankColor: '#e30613', bankLogo: 'ARK', offerName: 'Compte Essentiel', offerType: 'basic', monthlyFee: 2.90, monthlyFeeCondition: null, cardType: 'Mastercard', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '4/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 18, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 5000, maxWithdrawalWeek: 800, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Tarifs attractifs', 'Bretagne et Sud-Ouest', 'Banque coopérative'], targetProfile: 'Tous profils, régional', url: 'https://www.cmb.fr', pricingUrl: 'https://www.cmb.fr/réseau-bancaire-coopératif/web/reglementaire/tarification-des-services' },
      { id: 'arkea-gold', bank: 'Credit Mutuel Arkea', bankType: 'traditional', bankColor: '#e30613', bankLogo: 'ARK', offerName: 'Gold Mastercard', offerType: 'premium', monthlyFee: 7.90, monthlyFeeCondition: '~95EUR/an', cardType: 'Gold Mastercard', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '4/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 18, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances Gold Mastercard complètes', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 12000, maxWithdrawalWeek: 2000, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Assurances voyage', 'Innovation digitale', 'Max by CA'], targetProfile: 'Voyageurs, actifs', url: 'https://www.cmb.fr', pricingUrl: 'https://www.cmb.fr/réseau-bancaire-coopératif/web/reglementaire/tarification-des-services' },

      // CAISSE D'EPARGNE
      { id: 'ce-essentiel', bank: 'Caisse d\'Épargne', bankType: 'traditional', bankColor: '#e4002b', bankLogo: 'CE', offerName: 'Formule Simplicite', offerType: 'basic', monthlyFee: 2.50, monthlyFeeCondition: 'Variable selon caisse régionale', cardType: 'Visa', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '3/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 20, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 4000, maxWithdrawalWeek: 600, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Réseau 4200 agences', 'Livret A historique', 'Mission sociale'], targetProfile: 'Tous profils, epargne', url: 'https://www.caisse-epargne.fr', pricingUrl: 'https://www.caisse-epargne.fr/votre-banque/reglementation/tarifs/' },
      { id: 'ce-visa-premier', bank: 'Caisse d\'Épargne', bankType: 'traditional', bankColor: '#e4002b', bankLogo: 'CE', offerName: 'Visa Premier', offerType: 'premium', monthlyFee: 11.50, monthlyFeeCondition: '~138EUR/an', cardType: 'Visa Premier', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '3/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 20, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances Visa Premier complètes', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 15000, maxWithdrawalWeek: 2500, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Assurances voyage complètes', 'Conseiller dédié', 'Groupe BPCE'], targetProfile: 'Voyageurs, patrimoine', url: 'https://www.caisse-epargne.fr', pricingUrl: 'https://www.caisse-epargne.fr/votre-banque/reglementation/tarifs/' },
      { id: 'ce-visa-infinite', bank: 'Caisse d\'Épargne', bankType: 'traditional', bankColor: '#e4002b', bankLogo: 'CE', offerName: 'Visa Infinite', offerType: 'black', monthlyFee: 29, monthlyFeeCondition: '~350EUR/an', cardType: 'Visa Infinite', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: 4000, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 3, withdrawalsFreeAbroadUnit: '/mois', withdrawalsExtraFee: '2%', freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 20, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances premium, conciergerie', insuranceMeansPayment: true, loungeAccess: true, loungeAccessDetails: 'Salons aéroport', cashback: false, maxPaymentMonth: 30000, maxWithdrawalWeek: 5000, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Conciergerie 24/7', 'Salons aéroport', 'Assurances premium'], targetProfile: 'Clientele aisee, grands voyageurs', url: 'https://www.caisse-epargne.fr', pricingUrl: 'https://www.caisse-epargne.fr/votre-banque/reglementation/tarifs/' },

      // CIC
      { id: 'cic-essentiel', bank: 'CIC', bankType: 'traditional', bankColor: '#c8102e', bankLogo: 'CIC', offerName: 'Formule Essentielle', offerType: 'basic', monthlyFee: 4.90, monthlyFeeCondition: null, cardType: 'Mastercard', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '4/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 18, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 5000, maxWithdrawalWeek: 800, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Groupe Credit Mutuel', 'Application performante', 'Monetico integre'], targetProfile: 'Tous profils', url: 'https://www.cic.fr', pricingUrl: 'https://www.cic.fr/fr/particuliers/informations-legales/tarifs.html' },
      { id: 'cic-gold', bank: 'CIC', bankType: 'traditional', bankColor: '#c8102e', bankLogo: 'CIC', offerName: 'Gold Mastercard', offerType: 'premium', monthlyFee: 8.50, monthlyFeeCondition: '~102EUR/an', cardType: 'Gold Mastercard', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '4/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 18, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances Gold Mastercard', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 12000, maxWithdrawalWeek: 2500, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Assurances voyage', 'Débit différé', 'Service client reconnu'], targetProfile: 'Actifs, voyageurs', url: 'https://www.cic.fr', pricingUrl: 'https://www.cic.fr/fr/particuliers/informations-legales/tarifs.html' },
      { id: 'cic-world-elite', bank: 'CIC', bankType: 'traditional', bankColor: '#c8102e', bankLogo: 'CIC', offerName: 'World Elite Mastercard', offerType: 'black', monthlyFee: 25, monthlyFeeCondition: '~300EUR/an', cardType: 'World Elite Mastercard', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: 3500, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 3, withdrawalsFreeAbroadUnit: '/mois', withdrawalsExtraFee: '2%', freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 18, swiftIncoming: 10, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances premium, annulation voyage', insuranceMeansPayment: true, loungeAccess: true, loungeAccessDetails: 'Accès salons Mastercard', cashback: false, maxPaymentMonth: 25000, maxWithdrawalWeek: 4000, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Conciergerie 24/7', 'Salons aéroport', 'Assurances haut de gamme'], targetProfile: 'Cadres supérieurs, grands voyageurs', url: 'https://www.cic.fr', pricingUrl: 'https://www.cic.fr/fr/particuliers/informations-legales/tarifs.html' },

      // SOCIETE GENERALE (ajout des offres manquantes)
      { id: 'sg-visa-premier', bank: 'Societe Generale', bankType: 'traditional', bankColor: '#e30613', bankLogo: 'SG', offerName: 'Sobrio Visa Premier', offerType: 'premium', monthlyFee: 12.90, monthlyFeeCondition: null, cardType: 'Visa Premier', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '3/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 13, swiftIncoming: 22, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances Visa Premier complètes', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 15000, maxWithdrawalWeek: 3000, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Assurances voyage', 'Application SG moderne', 'Conseiller dédié'], targetProfile: 'Actifs, voyageurs', url: 'https://www.societegenerale.fr', pricingUrl: 'https://particuliers.sg.fr/documentation-tarifs' },
      { id: 'sg-visa-infinite', bank: 'Societe Generale', bankType: 'traditional', bankColor: '#e30613', bankLogo: 'SG', offerName: 'Visa Infinite', offerType: 'black', monthlyFee: 30, monthlyFeeCondition: '~360EUR/an', cardType: 'Visa Infinite', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: 4000, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 3, withdrawalsFreeAbroadUnit: '/mois', withdrawalsExtraFee: '2%', freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 13, swiftIncoming: 22, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances premium complètes', insuranceMeansPayment: true, loungeAccess: true, loungeAccessDetails: 'Salons Priority Pass', cashback: false, maxPaymentMonth: 30000, maxWithdrawalWeek: 5000, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Conciergerie 24/7', 'Salons aéroport', 'Assurances haut de gamme'], targetProfile: 'Clientele premium, grands voyageurs', url: 'https://www.societegenerale.fr', pricingUrl: 'https://particuliers.sg.fr/documentation-tarifs' },

      // LCL (ajout des offres manquantes)
      { id: 'lcl-essentiel', bank: 'LCL', bankType: 'traditional', bankColor: '#0078be', bankLogo: 'LCL', offerName: 'Offre Essentielle', offerType: 'basic', monthlyFee: 2.90, monthlyFeeCondition: null, cardType: 'Visa Classic', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '3/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 26, swiftIncoming: 18, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 5000, maxWithdrawalWeek: 800, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Tarif attractif', 'Filiale Credit Agricole', 'Présence urbaine'], targetProfile: 'Tous profils, urbain', url: 'https://www.lcl.fr', pricingUrl: 'https://www.lcl.fr/tarifs' },
      { id: 'lcl-visa-infinite', bank: 'LCL', bankType: 'traditional', bankColor: '#0078be', bankLogo: 'LCL', offerName: 'Visa Infinite', offerType: 'black', monthlyFee: 30, monthlyFeeCondition: '~324EUR/an', cardType: 'Visa Infinite', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: 4000, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 3, withdrawalsFreeAbroadUnit: '/mois', withdrawalsExtraFee: '2%', freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 26, swiftIncoming: 18, swiftForeignCurrencySurcharge: '0,1% (min 15€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances premium, conciergerie', insuranceMeansPayment: true, loungeAccess: true, loungeAccessDetails: 'Accès salons aéroport', cashback: false, maxPaymentMonth: 25000, maxWithdrawalWeek: 4000, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Conciergerie 24/7', 'Assurances premium', 'Salons aéroport'], targetProfile: 'Clientele aisee, grands voyageurs', url: 'https://www.lcl.fr', pricingUrl: 'https://www.lcl.fr/tarifs' },

      // CREDIT AGRICOLE (ajout des offres manquantes)
      { id: 'ca-visa-premier', bank: 'Credit Agricole', bankType: 'traditional', bankColor: '#009f4d', bankLogo: 'CA', offerName: 'Visa Premier', offerType: 'premium', monthlyFee: 10.50, monthlyFeeCondition: '~126EUR/an selon caisse', cardType: 'Visa Premier', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '~2,90%', freeWithdrawalsEuro: '4/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 35, swiftIncoming: 21, swiftForeignCurrencySurcharge: '0,05% (min 20€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances Visa Premier complètes', insuranceMeansPayment: true, loungeAccess: false, cashback: false, maxPaymentMonth: 15000, maxWithdrawalWeek: 3000, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Assurances voyage', 'Premier réseau France', 'Conseiller local'], targetProfile: 'Voyageurs, familles', url: 'https://www.credit-agricole.fr', pricingUrl: 'https://www.credit-agricole.fr/particulier/informations/tarifs.html' },
      { id: 'ca-visa-infinite', bank: 'Credit Agricole', bankType: 'traditional', bankColor: '#009f4d', bankLogo: 'CA', offerName: 'Visa Infinite', offerType: 'black', monthlyFee: 28, monthlyFeeCondition: '~336EUR/an selon caisse', cardType: 'Visa Infinite', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: 4000, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 3, withdrawalsFreeAbroadUnit: '/mois', withdrawalsExtraFee: '2%', freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 35, swiftIncoming: 21, swiftForeignCurrencySurcharge: '0,05% (min 20€)', insuranceTravel: true, insuranceTravelDetails: 'Assurances premium, conciergerie', insuranceMeansPayment: true, loungeAccess: true, loungeAccessDetails: 'Accès salons aéroport', cashback: false, maxPaymentMonth: 30000, maxWithdrawalWeek: 5000, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Conciergerie 24/7', 'Premier réseau France', 'Assurances haut de gamme'], targetProfile: 'Clientele aisee, grands voyageurs', url: 'https://www.credit-agricole.fr', pricingUrl: 'https://www.credit-agricole.fr/particulier/informations/tarifs.html' },

      // CCF (HSBC FRANCE)
      { id: 'ccf-essentiel', bank: 'CCF (HSBC France)', bankType: 'traditional', bankColor: '#db0011', bankLogo: 'CCF', offerName: 'Compte Courant', offerType: 'basic', monthlyFee: 5, monthlyFeeCondition: null, cardType: 'Visa Classic', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: false, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2,90%', freeWithdrawalsEuro: '3/mois hors réseau', freeWithdrawalsEuroExtra: '1EUR/retrait', swiftOutgoing: 15, swiftIncoming: 5, insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: false, maxPaymentMonth: 5000, maxWithdrawalWeek: 800, overdraftAvailable: true, virtualCard: false, iban: 'FR', hasAgency: true, highlights: ['Réseau HSBC international', 'Services bancaires complets', 'Expertise patrimoine'], targetProfile: 'Tous profils, international', url: 'https://www.hsbc.fr', pricingUrl: 'https://www.hsbc.fr/particuliers/tarifs/' },
      { id: 'ccf-premier', bank: 'CCF (HSBC France)', bankType: 'traditional', bankColor: '#db0011', bankLogo: 'CCF', offerName: 'HSBC Premier', offerType: 'black', monthlyFee: 25, monthlyFeeCondition: 'Gratuit avec 75 000EUR épargne ou 5 000EUR revenus', cardType: 'Visa Premier ou World Elite', cardDebit: 'both', cardDebitDiffere: true, incomeRequired: 5000, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 'Illimité', withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: null, freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 15, swiftIncoming: 5, insuranceTravel: true, insuranceTravelDetails: 'Assurances voyage premium complètes', insuranceMeansPayment: true, loungeAccess: true, loungeAccessDetails: 'Priority Pass avec invités', cashback: false, maxPaymentMonth: 30000, maxWithdrawalWeek: 5000, overdraftAvailable: true, virtualCard: true, iban: 'FR', hasAgency: true, highlights: ['Banking international', 'Conciergerie premium', 'Accès salons illimité'], targetProfile: 'Clientèle aisée, expatriés, patrimoine', url: 'https://www.hsbc.fr', pricingUrl: 'https://www.hsbc.fr/particuliers/tarifs/', subscriptionBenefits: ['Retraits et paiements illimités gratuits dans le monde', 'Carte Priority Pass avec invités inclus', 'Conciergerie lifestyle 24/7', 'Conseiller dédié expert en gestion de patrimoine', 'Services bancaires dans 64 pays du réseau HSBC', 'Virements internationaux à tarif réduit', 'Assurances voyage et moyens de paiement premium'] },

      // CRYPTO.COM
      { id: 'crypto-midnight-blue', bank: 'Crypto.com', bankType: 'crypto', bankColor: '#103376', bankLogo: 'CDC', offerName: 'Midnight Blue', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: 'Aucun stake requis', cardType: 'Visa Prepaid', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2% après 200EUR/mois', freeWithdrawalsEuro: '200EUR/mois', freeWithdrawalsEuroExtra: '2% au-delà', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: true, cashbackRate: '0% (version gratuite)', maxPaymentMonth: 'Selon solde crypto', maxWithdrawalWeek: '400EUR/jour', overdraftAvailable: false, virtualCard: true, iban: 'Non', ibanDetails: 'Carte prépayée crypto', highlights: ['Gratuite sans stake', 'Paiements crypto acceptés', 'Application tout-en-un'], targetProfile: 'Débutants crypto', url: 'https://crypto.com', pricingUrl: 'https://crypto.com/cards', subscriptionBenefits: ['Carte prépayée 100% gratuite sans frais d\'émission', 'Rechargement instantané avec cryptos', 'Paiements sans frais à l\'international', 'Accès à l\'écosystème Crypto.com : trading, staking, NFTs', 'Application mobile intuitive et complète'] },
      { id: 'crypto-ruby', bank: 'Crypto.com', bankType: 'crypto', bankColor: '#e31e24', bankLogo: 'CDC', offerName: 'Ruby Steel', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: 'Stake 350EUR en CRO requis', cardType: 'Visa Prepaid Metal', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2% après 400EUR/mois', freeWithdrawalsEuro: '400EUR/mois', freeWithdrawalsEuroExtra: '2% au-delà', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: true, cashbackRate: '1% en CRO', maxPaymentMonth: 'Selon solde', maxWithdrawalWeek: '800EUR/jour', overdraftAvailable: false, virtualCard: true, iban: 'Non', highlights: ['1% cashback en CRO', 'Remboursement Spotify', 'Carte metal'], targetProfile: 'Utilisateurs crypto réguliers', url: 'https://crypto.com', pricingUrl: 'https://crypto.com/cards', subscriptionBenefits: ['Cashback de 1% sur tous les achats en CRO', 'Remboursement intégral de Spotify (12,99 EUR/mois)', 'Carte métallique Ruby Steel', 'Retraits gratuits jusqu\'à 400 EUR/mois', 'Interbank exchange rates sans majoration'] },
      { id: 'crypto-jade', bank: 'Crypto.com', bankType: 'crypto', bankColor: '#138667', bankLogo: 'CDC', offerName: 'Jade Green / Royal Indigo', offerType: 'premium', monthlyFee: 0, monthlyFeeCondition: 'Stake 3 500EUR en CRO', cardType: 'Visa Prepaid Metal', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2% après 800EUR/mois', freeWithdrawalsEuro: '800EUR/mois', freeWithdrawalsEuroExtra: '2% au-delà', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: true, loungeAccessDetails: 'LoungeKey (accès salons)', cashback: true, cashbackRate: '2% en CRO', maxPaymentMonth: 'Selon solde', maxWithdrawalWeek: '800EUR/jour', overdraftAvailable: false, virtualCard: true, iban: 'Non', highlights: ['2% cashback en CRO', 'Spotify + Netflix', 'Accès salons aéroport'], targetProfile: 'Investisseurs crypto', url: 'https://crypto.com', pricingUrl: 'https://crypto.com/cards', subscriptionBenefits: ['Cashback de 2% sur tous les achats', 'Remboursement Spotify (12,99 EUR/mois) et Netflix (15,49 EUR/mois)', 'Accès gratuit aux salons d\'aéroport via LoungeKey', 'Retraits gratuits jusqu\'à 800 EUR/mois', '10% de rendement annuel sur le stake CRO'] },
      { id: 'crypto-icy', bank: 'Crypto.com', bankType: 'crypto', bankColor: '#f0f0f0', bankLogo: 'CDC', offerName: 'Icy White / Rose Gold', offerType: 'black', monthlyFee: 0, monthlyFeeCondition: 'Stake 35 000EUR en CRO', cardType: 'Visa Prepaid Metal', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '2% après 1000EUR/mois', freeWithdrawalsEuro: '1 000EUR/mois', freeWithdrawalsEuroExtra: '2% au-delà', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: true, loungeAccessDetails: 'LoungeKey illimité', cashback: true, cashbackRate: '3% en CRO', maxPaymentMonth: 'Selon solde', maxWithdrawalWeek: '1 000EUR/jour', overdraftAvailable: false, virtualCard: true, iban: 'Non', highlights: ['3% cashback en CRO', 'Spotify + Netflix + Prime', 'Carte premium metal'], targetProfile: 'Investisseurs crypto avancés', url: 'https://crypto.com', pricingUrl: 'https://crypto.com/cards', subscriptionBenefits: ['Cashback de 3% sur tous les achats en CRO', 'Remboursement Spotify + Netflix + Amazon Prime', 'Accès illimité LoungeKey pour salons d\'aéroport', 'Retraits gratuits jusqu\'à 1 000 EUR/mois', '12% de rendement annuel sur stake CRO', 'Carte métallique Icy White ou Rose Gold exclusive'] },
      { id: 'crypto-obsidian', bank: 'Crypto.com', bankType: 'crypto', bankColor: '#000000', bankLogo: 'CDC', offerName: 'Obsidian', offerType: 'black', monthlyFee: 0, monthlyFeeCondition: 'Stake 350 000EUR en CRO', cardType: 'Visa Prepaid Metal', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: null, freeWithdrawalsEuro: 'Illimité', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: true, loungeAccessDetails: 'LoungeKey + invités', cashback: true, cashbackRate: '5% en CRO', maxPaymentMonth: 'Illimité', maxWithdrawalWeek: '1 000EUR/jour', overdraftAvailable: false, virtualCard: true, iban: 'Non', highlights: ['5% cashback en CRO', 'Tous abonnements remboursés', 'Carte ultra-premium'], targetProfile: 'Gros investisseurs crypto', url: 'https://crypto.com', pricingUrl: 'https://crypto.com/cards', subscriptionBenefits: ['Cashback de 5% sur tous les achats', 'Remboursement de tous les abonnements majeurs', 'Accès salons d\'aéroport illimité avec invités', 'Retraits ATM illimités gratuits', '12% de rendement annuel sur stake CRO', 'Private Jet partnership et services concierge exclusifs'] },

      // BINANCE
      { id: 'binance-card', bank: 'Binance', bankType: 'crypto', bankColor: '#f3ba2f', bankLogo: 'BNC', offerName: 'Binance Card', offerType: 'basic', monthlyFee: 0, monthlyFeeCondition: 'Frais émission 1,50EUR ou USDT', cardType: 'Visa Prepaid', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '0,90% par retrait', freeWithdrawalsEuro: 'Aucun retrait gratuit', freeWithdrawalsEuroExtra: '0,90%', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: true, cashbackRate: 'Jusqu\'à 8% selon BNB stake', maxPaymentMonth: 'Selon solde crypto', maxWithdrawalWeek: '290EUR/jour', overdraftAvailable: false, virtualCard: true, iban: 'Non', ibanDetails: 'Carte prépayée crypto', highlights: ['Cashback jusqu\'à 8%', 'Paiement en crypto direct', '+ grand exchange crypto'], targetProfile: 'Traders crypto, utilisateurs Binance', url: 'https://www.binance.com/fr/cards', pricingUrl: 'https://www.binance.com/fr/support/faq/binance-card', subscriptionBenefits: ['Cashback jusqu\'à 8% en BNB selon niveau de stake', 'Conversion automatique crypto → fiat pour paiements', 'Pas de frais de transaction', 'Intégration complète avec Binance Exchange', 'Gestion via application Binance', 'Rechargement instantané avec plus de 150 cryptos'] },
      { id: 'binance-premium', bank: 'Binance', bankType: 'crypto', bankColor: '#f3ba2f', bankLogo: 'BNC', offerName: 'Binance Card Premium', offerType: 'premium', monthlyFee: 0, monthlyFeeCondition: 'Stake 600 BNB (~170 000EUR)', cardType: 'Visa Prepaid', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: '0,90%', freeWithdrawalsEuro: 'Aucun retrait gratuit', freeWithdrawalsEuroExtra: '0,90%', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: true, cashbackRate: '8% en BNB', maxPaymentMonth: 'Selon solde', maxWithdrawalWeek: '8 700EUR/jour', overdraftAvailable: false, virtualCard: true, iban: 'Non', highlights: ['8% cashback en BNB', 'Limites élevées', 'Avantages trading'], targetProfile: 'Gros holders BNB', url: 'https://www.binance.com/fr/cards', pricingUrl: 'https://www.binance.com/fr/support/faq/binance-card', subscriptionBenefits: ['Cashback maximal de 8% en BNB sur tous les achats', 'Plafonds de retrait élevés : 8 700 EUR/jour', 'Réductions sur frais de trading Binance', 'Support client prioritaire', 'Avantages exclusifs sur produits Binance (Earn, Staking, etc.)'] },

      // NEXO
      { id: 'nexo-card', bank: 'Nexo', bankType: 'crypto', bankColor: '#1a4199', bankLogo: 'NXO', offerName: 'Nexo Card', offerType: 'premium', monthlyFee: 0, monthlyFeeCondition: 'Selon niveau de fidélité', cardType: 'Mastercard Prepaid', cardDebit: 'immediate', cardDebitDiffere: false, incomeRequired: null, paymentsFreeAbroad: true, withdrawalsFreeAbroad: 0, withdrawalsFreeAbroadUnit: '', withdrawalsExtraFee: 'Variable selon niveau', freeWithdrawalsEuro: 'Selon niveau fidélité', freeWithdrawalsEuroExtra: 'Variable', swiftOutgoing: 'N/A', swiftIncoming: 'N/A', insuranceTravel: false, insuranceMeansPayment: false, loungeAccess: false, cashback: true, cashbackRate: 'Jusqu\'à 2% en BTC/NEXO', maxPaymentMonth: 'Selon solde', maxWithdrawalWeek: 'Selon niveau', overdraftAvailable: false, virtualCard: true, iban: 'Non', highlights: ['Cashback jusqu\'à 2% en BTC', 'Crédit crypto adossé', 'Intérêts sur solde'], targetProfile: 'Utilisateurs crypto avancés', url: 'https://nexo.io/nexo-card', pricingUrl: 'https://nexo.io/nexo-card', subscriptionBenefits: ['Cashback jusqu\'à 2% en Bitcoin ou NEXO', 'Dépensez sans vendre vos cryptos (crédit adossé)', 'Intérêts quotidiens sur solde inutilisé', 'Pas de frais de change sur devises étrangères', 'Jusqu\'à 90% LTV (Loan-to-Value) sur crypto', 'Remboursement automatique du crédit'] }
    ];

    // State
    let sortKey = 'monthlyFee';
    let sortOrder = 'asc';
    let viewMode = 'table';
    let selectedOffer = null;

    // Helper functions
    function getPriceColor(price) {
      if (price === null) return 'price-neutral';
      if (price === 0) return 'price-free';
      if (price <= 5) return 'price-low';
      if (price <= 10) return 'price-medium';
      if (price <= 20) return 'price-high';
      return 'price-very-high';
    }

    function formatPrice(price) {
      if (price === null || price === undefined) return 'N/A';
      if (price === 0) return 'Gratuit';
      return price.toFixed(2).replace('.', ',');
    }

    function getOfferTypeLabel(type) {
      return { basic: 'Essentiel', premium: 'Premium', black: 'Haut de gamme' }[type] || type;
    }

    function getBankTypeLabel(type) {
      return { traditional: 'Banque traditionnelle', online: 'Banque en ligne', neo: 'Neobanque' }[type] || type;
    }

    function getBankTypeColor(type) {
      return { traditional: '#3b82f6', online: '#10b981', neo: '#f59e0b' }[type] || '#64748b';
    }

    // Filter and sort
    function getFilteredOffers() {
      const search = document.getElementById('searchInput').value.toLowerCase();
      const bankType = document.getElementById('filterBankType').value;
      const offerType = document.getElementById('filterOfferType').value;
      const freeCard = document.getElementById('filterFreeCard').value;
      const freeAbroad = document.getElementById('filterFreeAbroad').value;
      const insurance = document.getElementById('filterInsurance').value;
      const maxBudget = document.getElementById('maxBudget').value;

      let filtered = bankOffers.filter(offer => {
        if (search && !offer.bank.toLowerCase().includes(search) && !offer.offerName.toLowerCase().includes(search)) return false;
        if (bankType && offer.bankType !== bankType) return false;
        if (offerType && offer.offerType !== offerType) return false;
        if (freeCard === 'yes' && offer.monthlyFee !== 0) return false;
        if (freeCard === 'no' && offer.monthlyFee === 0) return false;
        if (freeAbroad === 'yes' && !offer.paymentsFreeAbroad) return false;
        if (freeAbroad === 'no' && offer.paymentsFreeAbroad) return false;
        if (insurance === 'yes' && !offer.insuranceTravel) return false;
        if (insurance === 'no' && offer.insuranceTravel) return false;
        if (maxBudget && offer.monthlyFee > parseFloat(maxBudget)) return false;
        return true;
      });

      // Sort
      filtered.sort((a, b) => {
        let aVal = a[sortKey];
        let bVal = b[sortKey];

        // Normalisation des valeurs pour les colonnes de coût
        const costColumns = ['monthlyFee', 'inactivityFee', 'swiftOutgoing', 'swiftIncoming', 'swiftForeignCurrencySurcharge', 'incomeRequired'];
        if (costColumns.includes(sortKey)) {
          // Fonction pour normaliser et catégoriser les valeurs
          // Priority: 0 = Gratuit, 1 = Texte, 2 = Nombre, 3 = N/A/vide
          const normalizeValue = (val, key) => {
            // Catégorie 0: Gratuit
            if (val === 'Gratuit' || val === 0) {
              return { priority: 0, value: 0, text: 'Gratuit' };
            }

            // Catégorie 3: N/A, null, undefined, '—'
            if (val === 'N/A' || val === 'NA' || val === null || val === undefined || val === '—' || val === '') {
              return { priority: 3, value: 0, text: 'N/A' };
            }

            // Pour les valeurs de type string
            if (typeof val === 'string') {
              let extractedNum = null;
              let remainingText = val;

              // Gestion spéciale pour swiftForeignCurrencySurcharge
              if (key === 'swiftForeignCurrencySurcharge') {
                // Chercher "min XXX€"
                const minMatch = val.match(/min\s+([\d,]+)€/);
                if (minMatch) {
                  extractedNum = parseFloat(minMatch[1].replace(',', '.'));
                } else {
                  // Chercher un pourcentage
                  const pctMatch = val.match(/([\d,]+)%/);
                  if (pctMatch) {
                    extractedNum = parseFloat(pctMatch[1].replace(',', '.')) * 100;
                  } else if (val.toLowerCase().includes('taux réel') || val.toLowerCase().includes('auto')) {
                    extractedNum = 1;
                  } else if (val.toLowerCase().includes('réduit')) {
                    extractedNum = 5;
                  }
                }
              }

              // Pour swiftOutgoing/swiftIncoming : gérer "0,1% (min 23€)"
              if ((key === 'swiftOutgoing' || key === 'swiftIncoming')) {
                const minMatch = val.match(/min\s+([\d,]+)€/);
                if (minMatch) {
                  extractedNum = parseFloat(minMatch[1].replace(',', '.'));
                } else {
                  const numMatch = val.match(/[\d,.]+/);
                  if (numMatch) {
                    extractedNum = parseFloat(numMatch[0].replace(',', '.'));
                  }
                }
              }

              // Si pas encore extrait, essayer d'extraire le premier nombre
              if (extractedNum === null) {
                const numMatch = val.match(/[\d,.]+/);
                if (numMatch) {
                  extractedNum = parseFloat(numMatch[0].replace(',', '.'));
                }
              }

              // Déterminer si c'est du texte pur ou un nombre
              if (extractedNum !== null && !isNaN(extractedNum)) {
                // C'est un nombre (catégorie 2)
                return { priority: 2, value: extractedNum, text: val };
              } else {
                // C'est du texte pur (catégorie 1)
                return { priority: 1, value: 0, text: val.toLowerCase() };
              }
            }

            // Pour les valeurs déjà numériques
            if (typeof val === 'number') {
              return { priority: 2, value: val, text: val.toString() };
            }

            // Par défaut, traiter comme N/A
            return { priority: 3, value: 0, text: 'N/A' };
          };

          const aNorm = normalizeValue(aVal, sortKey);
          const bNorm = normalizeValue(bVal, sortKey);

          // Comparer d'abord par priorité
          if (aNorm.priority !== bNorm.priority) {
            return sortOrder === 'asc' ? aNorm.priority - bNorm.priority : bNorm.priority - aNorm.priority;
          }

          // Ensuite comparer par valeur selon le type
          if (aNorm.priority === 1) {
            // Pour le texte, comparer alphabétiquement
            return sortOrder === 'asc' ? aNorm.text.localeCompare(bNorm.text) : bNorm.text.localeCompare(aNorm.text);
          } else {
            // Pour les nombres (priorité 0, 2, 3), comparer numériquement
            return sortOrder === 'asc' ? aNorm.value - bNorm.value : bNorm.value - aNorm.value;
          }
        }

        // Pour les autres colonnes
        if (aVal === null || aVal === 'Illimité' || aVal === 'Personnalisable') aVal = sortKey.includes('max') ? 999999 : -1;
        if (bVal === null || bVal === 'Illimité' || bVal === 'Personnalisable') bVal = sortKey.includes('max') ? 999999 : -1;
        if (typeof aVal === 'string' && typeof bVal === 'string') return sortOrder === 'asc' ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);
        if (typeof aVal === 'boolean' && typeof bVal === 'boolean') return sortOrder === 'asc' ? (aVal === bVal ? 0 : aVal ? -1 : 1) : (aVal === bVal ? 0 : aVal ? 1 : -1);
        return sortOrder === 'asc' ? aVal - bVal : bVal - aVal;
      });

      return filtered;
    }

    // Render functions
    function renderTable(offers) {
      const tbody = document.getElementById('tableBody');
      tbody.innerHTML = offers.map(offer => `
        <tr onclick="openModal('${offer.id}')" style="cursor: pointer;">
          <td>
            <div style="display: flex; align-items: center; gap: 10px;">
              <div class="bank-logo-small bank-logo-fallback" style="background: ${offer.bankColor}; ${bankLogos[offer.bank] ? 'display:none' : ''}">${offer.bankLogo}</div>
              ${bankLogos[offer.bank] ? `<img src="${bankLogos[offer.bank]}" class="bank-logo-small" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"><div class="bank-logo-small bank-logo-fallback" style="background: ${offer.bankColor}; display: none;">${offer.bankLogo}</div>` : ''}
              <div>
                <div style="font-weight: 600; color: #f8fafc;">${offer.offerName}</div>
                <div style="font-size: 12px; color: #64748b;">${offer.bank}</div>
              </div>
            </div>
          </td>
          <td class="${getPriceColor(offer.monthlyFee)}" style="font-weight: 700;">${formatPrice(offer.monthlyFee)}</td>
          <td style="font-size: 13px;">
            ${offer.inactivityFee ? `<span style="color: #f59e0b; font-weight: 600;">${typeof offer.inactivityFee === 'number' ? offer.inactivityFee + ' EUR/mois' : offer.inactivityFee}</span>` : '<span style="color: #10b981;">Aucun</span>'}
          </td>
          <td style="font-size: 13px; color: #94a3b8;">${offer.cardType}</td>
          <td>
            <span class="badge ${offer.paymentsFreeAbroad ? 'badge-good' : 'badge-warning'}">${offer.paymentsFreeAbroad ? 'Gratuits' : 'Payants'}</span>
          </td>
          <td style="font-size: 13px;">
            ${offer.withdrawalsFreeAbroad === 'Illimité' ? '<span style="color: #10b981;">Illimités</span>' :
              offer.withdrawalsFreeAbroad === 0 ? '<span style="color: #f87171;">Payants</span>' :
              `<span style="color: #fbbf24;">${offer.withdrawalsFreeAbroad}${offer.withdrawalsFreeAbroadUnit}</span>`}
          </td>
          <td style="font-size: 13px;">
            ${offer.swiftOutgoing === 0 || offer.swiftOutgoing === 'Gratuit' ? '<span style="color: #10b981; font-weight: 600;">Gratuit</span>' :
              offer.swiftOutgoing ? `<span style="color: #f59e0b;">${typeof offer.swiftOutgoing === 'number' ? offer.swiftOutgoing + ' EUR' : offer.swiftOutgoing}</span>` :
              '<span style="color: #64748b;">—</span>'}
          </td>
          <td style="font-size: 13px;">
            ${offer.swiftIncoming === 0 || offer.swiftIncoming === 'Gratuit' ? '<span style="color: #10b981; font-weight: 600;">Gratuit</span>' :
              offer.swiftIncoming ? `<span style="color: #f59e0b;">${typeof offer.swiftIncoming === 'number' ? offer.swiftIncoming + ' EUR' : offer.swiftIncoming}</span>` :
              '<span style="color: #64748b;">—</span>'}
          </td>
          <td style="font-size: 13px;">
            ${offer.swiftForeignCurrencySurcharge ?
              `<span style="color: #f59e0b;">${offer.swiftForeignCurrencySurcharge}</span>` :
              '<span style="color: #64748b;">—</span>'}
          </td>
          <td>
            <span class="badge ${offer.insuranceTravel ? 'badge-good' : 'badge-neutral'}">${offer.insuranceTravel ? 'Oui' : 'Non'}</span>
          </td>
          <td style="font-size: 13px; color: ${offer.incomeRequired ? '#fbbf24' : '#10b981'};">
            ${offer.incomeRequired ? offer.incomeRequired + ' EUR' : 'Aucun'}
          </td>
          <td style="font-size: 12px;">
            ${offer.referral ? `<div><div style="color: #10b981; font-weight: 600;">🎁 ${offer.referral.sponsor}</div><div style="color: #60a5fa; font-size: 11px; margin-top: 2px;">Filleul: ${offer.referral.sponsored}</div></div>` : '<span style="color: #64748b;">—</span>'}
          </td>
        </tr>
      `).join('');
    }

    function renderCards(offers) {
      const container = document.getElementById('cardsView');
      container.innerHTML = offers.map(offer => `
        <div class="offer-card rounded-2xl overflow-hidden cursor-pointer" onclick="openModal('${offer.id}')">
          <div style="position: absolute; top: 16px; right: 16px; padding: 5px 12px; border-radius: 8px; font-size: 11px; font-weight: 700; text-transform: uppercase; color: white;" class="type-${offer.offerType}">${getOfferTypeLabel(offer.offerType)}</div>

          <div style="padding: 24px 24px 16px; display: flex; align-items: flex-start; gap: 14px;">
            <div class="bank-logo bank-logo-fallback" style="background: ${offer.bankColor}; box-shadow: 0 8px 20px -4px ${offer.bankColor}60; ${bankLogos[offer.bank] ? 'display:none' : ''}">${offer.bankLogo}</div>
            ${bankLogos[offer.bank] ? `<img src="${bankLogos[offer.bank]}" class="bank-logo" style="box-shadow: 0 8px 20px -4px ${offer.bankColor}60;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"><div class="bank-logo bank-logo-fallback" style="background: ${offer.bankColor}; display: none; box-shadow: 0 8px 20px -4px ${offer.bankColor}60;">${offer.bankLogo}</div>` : ''}
            <div style="flex: 1;">
              <div style="font-size: 18px; font-weight: 700; color: #f8fafc;">${offer.offerName}</div>
              <div style="font-size: 13px; color: #64748b;">${offer.bank}</div>
            </div>
          </div>

          <div style="padding: 0 24px 16px;">
            <div class="${getPriceColor(offer.monthlyFee)}" style="font-size: 32px; font-weight: 800; line-height: 1;">
              ${offer.monthlyFee === 0 ? 'Gratuit' : offer.monthlyFee.toFixed(2).replace('.', ',')}
              ${offer.monthlyFee > 0 ? '<span style="font-size: 14px; font-weight: 500; color: #64748b;">/mois</span>' : ''}
            </div>
            ${offer.monthlyFeeCondition ? `<div style="font-size: 12px; color: #94a3b8; margin-top: 6px; font-style: italic;">${offer.monthlyFeeCondition}</div>` : ''}
          </div>

          <div style="padding: 0 24px 20px; display: flex; flex-wrap: wrap; gap: 8px;">
            ${offer.inactivityFee ? `<span class="badge badge-warning">${typeof offer.inactivityFee === 'number' ? offer.inactivityFee + ' EUR si inactive' : offer.inactivityFee}</span>` : ''}
            ${offer.paymentsFreeAbroad ? '<span class="badge badge-good">Paiements gratuits</span>' : ''}
            ${offer.withdrawalsFreeAbroad === 'Illimité' || offer.withdrawalsFreeAbroad > 0 ? `<span class="badge badge-good">${offer.withdrawalsFreeAbroad === 'Illimité' ? 'Retraits illimités' : offer.withdrawalsFreeAbroad + ' retraits'}</span>` : ''}
            ${offer.insuranceTravel ? '<span class="badge badge-good">Assurance voyage</span>' : ''}
            ${offer.cardDebitDiffere ? '<span class="badge badge-neutral">Débit différé</span>' : ''}
            ${offer.loungeAccess ? '<span class="badge badge-good">Salons</span>' : ''}
            ${offer.cashback ? '<span class="badge badge-good">Cashback</span>' : ''}
            ${offer.referral ? `<span class="badge badge-good">Parrain: ${offer.referral.sponsor}</span>` : ''}
          </div>

          <div style="padding: 14px 24px; border-top: 1px solid rgba(255,255,255,0.06); display: flex; align-items: center; justify-content: space-between;">
            <span style="font-size: 12px; padding: 4px 10px; border-radius: 6px; background: ${getBankTypeColor(offer.bankType)}15; color: ${getBankTypeColor(offer.bankType)}; font-weight: 600;">${getBankTypeLabel(offer.bankType)}</span>
            <span style="font-size: 12px; color: #64748b;">${offer.cardType}</span>
          </div>
        </div>
      `).join('');
    }

    function render() {
      const offers = getFilteredOffers();
      document.getElementById('resultsCount').textContent = offers.length;
      document.getElementById('mobileResultsCount').textContent = offers.length;

      if (offers.length === 0) {
        document.getElementById('tableView').classList.add('hidden');
        document.getElementById('cardsView').classList.add('hidden');
        document.getElementById('emptyState').classList.remove('hidden');
      } else {
        document.getElementById('emptyState').classList.add('hidden');

        if (viewMode === 'table') {
          document.getElementById('tableView').classList.remove('hidden');
          document.getElementById('cardsView').classList.add('hidden');
          renderTable(offers);
        } else {
          document.getElementById('tableView').classList.add('hidden');
          document.getElementById('cardsView').classList.remove('hidden');
          document.getElementById('cardsView').classList.add('grid');
          renderCards(offers);
        }
      }
    }

    // Event handlers
    function handleSort(key) {
      if (sortKey === key) {
        sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';
      } else {
        sortKey = key;
        sortOrder = 'asc';
      }
      document.getElementById('sortKey').value = key;
      document.getElementById('sortArrow').innerHTML = sortOrder === 'asc' ? '&#8593;' : '&#8595;';
      render();
    }

    function toggleSortOrder() {
      sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';
      document.getElementById('sortArrow').innerHTML = sortOrder === 'asc' ? '&#8593;' : '&#8595;';
      render();
    }

    function setViewMode(mode) {
      viewMode = mode;
      // Desktop buttons
      document.getElementById('viewTable').classList.toggle('active', mode === 'table');
      document.getElementById('viewCards').classList.toggle('active', mode === 'cards');
      // Mobile buttons
      const mobileTableBtn = document.getElementById('mobileViewTable');
      const mobileCardsBtn = document.getElementById('mobileViewCards');
      if (mobileTableBtn && mobileCardsBtn) {
        mobileTableBtn.classList.toggle('active', mode === 'table');
        mobileCardsBtn.classList.toggle('active', mode === 'cards');
      }
      render();
    }

    function resetFilters() {
      document.getElementById('searchInput').value = '';
      document.getElementById('filterBankType').value = '';
      document.getElementById('filterOfferType').value = '';
      document.getElementById('filterFreeCard').value = '';
      document.getElementById('filterFreeAbroad').value = '';
      document.getElementById('filterInsurance').value = '';
      document.getElementById('maxBudget').value = '';
      render();
    }

    function toggleMobileFilters() {
      const filtersContent = document.getElementById('filtersContent');
      const filtersContainer = document.getElementById('filtersContainer');
      const toggleBtn = document.getElementById('mobileFiltersToggle');
      const toggleText = document.getElementById('filtersToggleText');

      filtersContent.classList.toggle('show');
      filtersContainer.classList.toggle('filters-open');
      toggleBtn.classList.toggle('active');

      if (filtersContent.classList.contains('show')) {
        toggleText.textContent = 'Masquer';
      } else {
        toggleText.textContent = 'Filtres';
      }
    }

    function openModal(offerId) {
      const offer = bankOffers.find(o => o.id === offerId);
      if (!offer) return;

      selectedOffer = offer;
      const modal = document.getElementById('modal');
      const content = document.getElementById('modalContent');

      content.innerHTML = `
        <!-- Header -->
        <div style="padding: 20px 24px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; align-items: flex-start; gap: 14px;">
          <div class="bank-logo bank-logo-fallback" style="width: 48px; height: 48px; font-size: 14px; background: ${offer.bankColor}; ${bankLogos[offer.bank] ? 'display:none' : ''}">${offer.bankLogo}</div>
          ${bankLogos[offer.bank] ? `<img src="${bankLogos[offer.bank]}" style="width: 48px; height: 48px; border-radius: 12px; object-fit: cover;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"><div class="bank-logo bank-logo-fallback" style="width: 48px; height: 48px; font-size: 14px; background: ${offer.bankColor}; display: none;">${offer.bankLogo}</div>` : ''}
          <div style="flex: 1; min-width: 0;">
            <div style="font-size: 20px; font-weight: 700; color: #f8fafc; margin-bottom: 4px; line-height: 1.2;">${offer.offerName}</div>
            <div style="font-size: 14px; color: #94a3b8;">${offer.bank}</div>
            <div class="${getPriceColor(offer.monthlyFee)}" style="font-size: 24px; font-weight: 800; margin-top: 8px;">
              ${offer.monthlyFee === 0 ? 'Gratuit' : offer.monthlyFee + '€/mois'}
            </div>
            ${offer.monthlyFeeCondition ? `<div style="font-size: 12px; color: #fbbf24; margin-top: 4px; font-style: italic;">⚠️ ${offer.monthlyFeeCondition}</div>` : ''}
          </div>
          <button onclick="closeModal()" class="modal-close-btn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>

        <!-- Content -->
        <div style="padding: 20px 24px;">
          <!-- Tags -->
          <div style="display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 20px;">
            <span style="padding: 5px 12px; border-radius: 16px; font-size: 12px; font-weight: 600; color: white;" class="type-${offer.offerType}">${getOfferTypeLabel(offer.offerType)}</span>
            <span style="padding: 5px 12px; border-radius: 16px; font-size: 12px; font-weight: 600; background: ${getBankTypeColor(offer.bankType)}22; color: ${getBankTypeColor(offer.bankType)};">${getBankTypeLabel(offer.bankType)}</span>
            <span style="padding: 5px 12px; border-radius: 16px; font-size: 12px; background: rgba(148, 163, 184, 0.2); color: #94a3b8;">${offer.cardType}</span>
          </div>

          <!-- Highlights - condensed -->
          ${offer.highlights.length > 0 ? `
            <div style="background: rgba(16, 185, 129, 0.08); border-radius: 12px; padding: 14px 16px; margin-bottom: 20px; border: 1px solid rgba(16, 185, 129, 0.2);">
              <div style="font-size: 11px; color: #10b981; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;">✓ Points Forts</div>
              <div style="display: grid; gap: 6px;">
                ${offer.highlights.slice(0, 3).map(h => `<div style="color: #e2e8f0; font-size: 13px; line-height: 1.4;">• ${h}</div>`).join('')}
              </div>
            </div>
          ` : ''}

          <!-- Essential Details Grid -->
          <div style="display: grid; grid-template-columns: 1fr; gap: 10px; margin-bottom: 16px;">
            <!-- Payments & Withdrawals -->
            <div style="background: rgba(255,255,255,0.03); border-radius: 10px; padding: 12px 14px; border-left: 3px solid ${offer.paymentsFreeAbroad ? '#10b981' : '#ef4444'};">
              <div style="display: flex; justify-content: space-between; align-items: center;">
                <span style="font-size: 12px; color: #94a3b8;">🌍 Paiements à l'étranger</span>
                <span style="font-size: 13px; font-weight: 600; color: ${offer.paymentsFreeAbroad ? '#10b981' : '#ef4444'};">${offer.paymentsFreeAbroad ? 'Gratuits' : 'Avec frais'}</span>
              </div>
            </div>

            <div style="background: rgba(255,255,255,0.03); border-radius: 10px; padding: 12px 14px; border-left: 3px solid ${offer.withdrawalsFreeAbroad === 'Illimité' || offer.withdrawalsFreeAbroad > 0 ? '#10b981' : '#ef4444'};">
              <div style="display: flex; justify-content: space-between; align-items: center;">
                <span style="font-size: 12px; color: #94a3b8;">💳 Retraits hors zone €</span>
                <span style="font-size: 13px; font-weight: 600; color: ${offer.withdrawalsFreeAbroad === 'Illimité' || offer.withdrawalsFreeAbroad > 0 ? '#10b981' : '#ef4444'};">
                  ${offer.withdrawalsFreeAbroad === 'Illimité' ? 'Illimités' :
                    offer.withdrawalsFreeAbroad === 0 ? 'Payants' :
                    offer.withdrawalsFreeAbroad + offer.withdrawalsFreeAbroadUnit}
                </span>
              </div>
            </div>

            ${offer.insuranceTravel ? `
              <div style="background: rgba(16, 185, 129, 0.08); border-radius: 10px; padding: 12px 14px; border-left: 3px solid #10b981;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span style="font-size: 12px; color: #94a3b8;">✈️ Assurance voyage</span>
                  <span style="font-size: 13px; font-weight: 600; color: #10b981;">Incluse</span>
                </div>
              </div>
            ` : ''}

            ${offer.cashback ? `
              <div style="background: rgba(16, 185, 129, 0.08); border-radius: 10px; padding: 12px 14px; border-left: 3px solid #10b981;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span style="font-size: 12px; color: #94a3b8;">💰 Cashback</span>
                  <span style="font-size: 13px; font-weight: 600; color: #10b981;">${offer.cashbackRate || 'Oui'}</span>
                </div>
              </div>
            ` : ''}

            ${offer.loungeAccess ? `
              <div style="background: rgba(16, 185, 129, 0.08); border-radius: 10px; padding: 12px 14px; border-left: 3px solid #10b981;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span style="font-size: 12px; color: #94a3b8;">🛋️ Salons aéroport</span>
                  <span style="font-size: 13px; font-weight: 600; color: #10b981;">${offer.loungeAccessDetails || 'Inclus'}</span>
                </div>
              </div>
            ` : ''}
          </div>

          <!-- Additional Info (compact) -->
          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; padding: 12px; background: rgba(255,255,255,0.02); border-radius: 10px;">
            ${offer.incomeRequired ? `
              <div style="font-size: 11px; color: #64748b;">Revenus: <span style="color: #e2e8f0; font-weight: 600;">${offer.incomeRequired}€</span></div>
            ` : '<div style="font-size: 11px; color: #10b981;">Sans condition de revenus</div>'}
            <div style="font-size: 11px; color: #64748b;">IBAN: <span style="color: #e2e8f0; font-weight: 600;">${offer.iban}</span></div>
            ${offer.cardDebitDiffere ? '<div style="font-size: 11px; color: #10b981;">✓ Débit différé</div>' : ''}
            ${offer.overdraftAvailable ? '<div style="font-size: 11px; color: #10b981;">✓ Découvert autorisé</div>' : ''}
          </div>

          <!-- Referral (compact) -->
          ${offer.referral ? `
            <div style="margin-top: 16px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1)); border-radius: 10px; padding: 14px; border: 1px solid rgba(16, 185, 129, 0.15);">
              <div style="font-size: 11px; color: #10b981; margin-bottom: 8px; font-weight: 600;">🎁 PARRAINAGE</div>
              <div style="display: flex; gap: 12px; align-items: center; justify-content: space-between;">
                <div style="flex: 1;">
                  <div style="font-size: 10px; color: #94a3b8; margin-bottom: 2px;">Parrain</div>
                  <div style="font-size: 16px; font-weight: 700; color: #10b981;">${offer.referral.sponsor}</div>
                </div>
                <div style="color: #64748b;">→</div>
                <div style="flex: 1;">
                  <div style="font-size: 10px; color: #94a3b8; margin-bottom: 2px;">Filleul</div>
                  <div style="font-size: 16px; font-weight: 700; color: #60a5fa;">${offer.referral.sponsored}</div>
                </div>
              </div>
            </div>
          ` : ''}

          <!-- Subscription Benefits -->
          ${offer.subscriptionBenefits && offer.subscriptionBenefits.length > 0 ? `
            <div style="margin-top: 16px; background: rgba(139, 92, 246, 0.08); border-radius: 10px; padding: 14px; border-left: 3px solid #8b5cf6;">
              <div style="font-size: 11px; color: #a78bfa; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;">✨ Avantages de l'abonnement</div>
              <div style="display: grid; gap: 8px;">
                ${offer.subscriptionBenefits.map(benefit => `<div style="color: #e2e8f0; font-size: 13px; line-height: 1.5; display: flex; gap: 8px;"><span style="color: #8b5cf6; flex-shrink: 0;">•</span><span>${benefit}</span></div>`).join('')}
              </div>
            </div>
          ` : ''}

          <!-- Target Profile (compact) -->
          <div style="margin-top: 16px; padding: 12px 14px; background: rgba(99, 102, 241, 0.08); border-radius: 10px; border-left: 3px solid #6366f1;">
            <div style="font-size: 10px; color: #818cf8; margin-bottom: 4px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;">🎯 Profil Cible</div>
            <div style="color: #e2e8f0; font-size: 13px; line-height: 1.4;">${offer.targetProfile}</div>
          </div>

          <!-- Pricing Link -->
          ${offer.pricingUrl ? `
            <div style="margin-top: 16px;">
              <a href="${offer.pricingUrl}" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; justify-content: center; gap: 8px; padding: 12px 16px; background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 10px; text-decoration: none; transition: all 0.2s ease;">
                <span style="font-size: 13px; color: #60a5fa; font-weight: 600;">📄 Voir les conditions tarifaires</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#60a5fa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                  <polyline points="15 3 21 3 21 9"></polyline>
                  <line x1="10" y1="14" x2="21" y2="3"></line>
                </svg>
              </a>
            </div>
          ` : ''}

          <!-- Close Button (Bottom - Mobile friendly) -->
          <div style="margin-top: 24px; padding-bottom: 4px;">
            <button onclick="closeModal()" style="width: 100%; padding: 14px; background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 12px; color: #ef4444; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; gap: 8px;">
              <span>Fermer</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
            </button>
          </div>
        </div>
      `;

      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      document.getElementById('modal').classList.add('hidden');
      document.body.style.overflow = '';
      selectedOffer = null;
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      // Event listeners for filters
      document.getElementById('searchInput').addEventListener('input', render);
      document.getElementById('filterBankType').addEventListener('change', render);
      document.getElementById('filterOfferType').addEventListener('change', render);
      document.getElementById('filterFreeCard').addEventListener('change', render);
      document.getElementById('filterFreeAbroad').addEventListener('change', render);
      document.getElementById('filterInsurance').addEventListener('change', render);
      document.getElementById('maxBudget').addEventListener('input', render);
      document.getElementById('sortKey').addEventListener('change', (e) => {
        sortKey = e.target.value;
        render();
      });

      // Mobile navigation
      const mobileMenuButton = document.getElementById('mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');

      mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('show');
        mobileMenu.classList.toggle('hidden');
      });

      document.addEventListener('click', (e) => {
        if (!mobileMenu.contains(e.target) && !mobileMenuButton.contains(e.target)) {
          mobileMenu.classList.remove('show');
          mobileMenu.classList.add('hidden');
        }
      });

      // Highlight current page
      const currentPage = window.location.pathname.split('/').pop() || 'index.html';
      document.querySelectorAll('.nav-link').forEach(link => {
        if (link.getAttribute('href') === currentPage) {
          link.classList.add('active');
        }
      });

      // Close modal on escape
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeModal();
      });

      // Initial render
      render();
    });
  </script>
</body>
</html>
